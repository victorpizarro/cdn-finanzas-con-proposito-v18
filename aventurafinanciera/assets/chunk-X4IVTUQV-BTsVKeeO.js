import{t as U,h as q,i as G,b as H,e as D,f as J}from"./index-CgQdyTPq.js";import{d as Q,c as w}from"./import-KpIH9fyR.js";import{r as i}from"./index-DPzuYzxM.js";import{e as X}from"./tw-merge-41n7K-40.js";import{o as Y,p as Z}from"./import-C_SV6fS0.js";import{j as b}from"./jsx-runtime-DrDP4jKM.js";var L=U({slots:{base:"flex flex-col justify-center gap-1 max-w-fit items-center",label:"",svgWrapper:"relative block",svg:"z-0 relative overflow-hidden",track:"h-full stroke-default-300/50",indicator:"h-full stroke-current",value:"absolute font-normal inset-0 flex items-center justify-center"},variants:{color:{default:{svg:"text-default-400"},primary:{svg:"text-primary"},secondary:{svg:"text-secondary"},success:{svg:"text-success"},warning:{svg:"text-warning"},danger:{svg:"text-danger"}},size:{sm:{svg:"w-8 h-8",label:"text-small",value:"text-[0.5rem]"},md:{svg:"w-10 h-10",label:"text-small",value:"text-[0.55rem]"},lg:{svg:"w-12 h-12",label:"text-medium",value:"text-[0.6rem]"}},isIndeterminate:{true:{svg:"animate-spinner-ease-spin"}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:{},false:{indicator:"transition-all !duration-500"}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1,disableAnimation:!1},compoundVariants:[{disableAnimation:!0,isIndeterminate:!1,class:{svg:"!transition-none motion-reduce:transition-none"}}]});function ee(a,s=100){return Math.min(Math.max(a,0),s)}function ae(a={}){const{rerender:s=!1,delay:o=0}=a,t=i.useRef(!1),[r,l]=i.useState(!1);return i.useEffect(()=>{t.current=!0;let c=null;return s&&(o>0?c=setTimeout(()=>{l(!0)},o):l(!0)),()=>{t.current=!1,s&&l(!1),c&&clearTimeout(c)}},[s]),[i.useCallback(()=>t.current,[]),r]}function se(a){let{value:s=0,minValue:o=0,maxValue:t=100,valueLabel:r,isIndeterminate:l,formatOptions:c={style:"percent"}}=a,x=Q(a,{labelable:!0}),{labelProps:e,fieldProps:v}=X({...a,labelElementType:"span"});s=Z(s,o,t);let g=(s-o)/(t-o),u=Y(c);if(!l&&!r){let d=c.style==="percent"?g:s;r=u.format(d)}return{progressBarProps:w(x,{...v,"aria-valuenow":l?void 0:s,"aria-valuemin":o,"aria-valuemax":t,"aria-valuetext":l?void 0:r,role:"progressbar"}),labelProps:e}}function te(a){var s;const[o,t]=q(a,L.variantKeys),{ref:r,as:l,id:c,className:x,classNames:e,label:v,valueLabel:g,value:u=void 0,minValue:d=0,maxValue:k=100,strokeWidth:R,showValueLabel:T=!1,formatOptions:W={style:"percent"},...j}=o,A=l||"div",y=G(r),I=H(e==null?void 0:e.base,x),[,O]=ae({rerender:!0,delay:100}),p=((s=a.isIndeterminate)!=null?s:!0)&&u===void 0,{progressBarProps:M,labelProps:N}=se({id:c,label:v,value:u,minValue:d,maxValue:k,valueLabel:g,formatOptions:W,isIndeterminate:p,"aria-labelledby":a["aria-labelledby"],"aria-label":a["aria-label"]}),n=i.useMemo(()=>L({...t,isIndeterminate:p}),[p,...Object.values(t)]),C=a.disableAnimation?!0:O,P=16,$=R||(a.size==="sm"?2:3),h=16-$,f=2*h*Math.PI,z=i.useMemo(()=>C?p?.25:u?ee((u-d)/(k-d),1):0:0,[C,u,d,k,p]),V=f-z*f,E=i.useCallback((m={})=>({ref:y,"data-indeterminate":D(p),"data-disabled":D(a.isDisabled),className:n.base({class:I}),...w(M,j,m)}),[y,n,p,a.isDisabled,I,M,j]),S=i.useCallback((m={})=>({className:n.label({class:e==null?void 0:e.label}),...w(N,m)}),[n,e,N]),_=i.useCallback((m={})=>({viewBox:"0 0 32 32",fill:"none",strokeWidth:$,className:n.svg({class:e==null?void 0:e.svg}),...m}),[$,n,e]),F=i.useCallback((m={})=>({cx:P,cy:P,r:h,role:"presentation",strokeDasharray:`${f} ${f}`,strokeDashoffset:V,transform:"rotate(-90 16 16)",strokeLinecap:"round",className:n.indicator({class:e==null?void 0:e.indicator}),...m}),[n,e,V,f,h]),K=i.useCallback((m={})=>({cx:P,cy:P,r:h,role:"presentation",strokeDasharray:`${f} ${f}`,strokeDashoffset:0,transform:"rotate(-90 16 16)",strokeLinecap:"round",className:n.track({class:e==null?void 0:e.track}),...m}),[n,e,f,h]);return{Component:A,domRef:y,slots:n,classNames:e,label:v,showValueLabel:T,getProgressBarProps:E,getLabelProps:S,getSvgProps:_,getIndicatorProps:F,getTrackProps:K}}var B=J((a,s)=>{const{Component:o,slots:t,classNames:r,label:l,showValueLabel:c,getProgressBarProps:x,getLabelProps:e,getSvgProps:v,getIndicatorProps:g,getTrackProps:u}=te({ref:s,...a}),d=x();return b.jsxs(o,{...d,children:[b.jsxs("div",{className:t.svgWrapper({class:r==null?void 0:r.svgWrapper}),children:[b.jsxs("svg",{...v(),children:[b.jsx("circle",{...u()}),b.jsx("circle",{...g()})]}),c&&b.jsx("span",{className:t.value({class:r==null?void 0:r.value}),children:d["aria-valuetext"]})]}),l&&b.jsx("span",{...e(),children:l})]})});B.displayName="NextUI.CircularProgress";var ue=B;export{ue as c};
