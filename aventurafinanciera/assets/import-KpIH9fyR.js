import{R as L,r as v}from"./index-DPzuYzxM.js";const ce={prefix:String(Math.round(Math.random()*1e10)),current:0},_e=L.createContext(ce),yt=L.createContext(!1);let Et=!!(typeof window<"u"&&window.document&&window.document.createElement),ye=new WeakMap;function Tt(e=!1){let t=v.useContext(_e),r=v.useRef(null);if(r.current===null&&!e){var n,o;let s=(o=L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||o===void 0||(n=o.ReactCurrentOwner)===null||n===void 0?void 0:n.current;if(s){let i=ye.get(s);i==null?ye.set(s,{id:t.current,state:s.memoizedState}):s.memoizedState!==i.state&&(t.current=i.id,ye.delete(s))}r.current=++t.current}return r.current}function Pt(e){let t=v.useContext(_e);t===ce&&!Et&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let r=Tt(!!e),n=`react-aria${t.prefix}`;return e||`${n}-${r}`}function wt(e){let t=L.useId(),[r]=v.useState(qe()),n=r?"react-aria":`react-aria${ce.prefix}`;return e||`${n}-${t}`}const xt=typeof L.useId=="function"?wt:Pt;function St(){return!1}function Lt(){return!0}function Mt(e){return()=>{}}function qe(){return typeof L.useSyncExternalStore=="function"?L.useSyncExternalStore(Mt,St,Lt):v.useContext(yt)}function Ct(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Nt(e,t,r){Ct(e,t),t.set(e,r)}function Je(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=Je(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function kt(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=Je(e))&&(n&&(n+=" "),n+=t);return n}const S=typeof document<"u"?L.useLayoutEffect:()=>{};function F(e){const t=v.useRef(null);return S(()=>{t.current=e},[e]),v.useCallback((...r)=>{const n=t.current;return n==null?void 0:n(...r)},[])}function Ft(e){let[t,r]=v.useState(e),n=v.useRef(null),o=F(()=>{if(!n.current)return;let i=n.current.next();if(i.done){n.current=null;return}t===i.value?o():r(i.value)});S(()=>{n.current&&o()});let s=F(i=>{n.current=i(t),o()});return[t,s]}let Kt=!!(typeof window<"u"&&window.document&&window.document.createElement),fe=new Map;function Qe(e){let[t,r]=v.useState(e),n=v.useRef(null),o=xt(t),s=v.useCallback(i=>{n.current=i},[]);return Kt&&fe.set(o,s),S(()=>{let i=o;return()=>{fe.delete(i)}},[o]),v.useEffect(()=>{let i=n.current;i&&(n.current=null,r(i))}),o}function Dt(e,t){if(e===t)return e;let r=fe.get(e);if(r)return r(t),t;let n=fe.get(t);return n?(n(e),e):t}function Kr(e=[]){let t=Qe(),[r,n]=Ft(t),o=v.useCallback(()=>{n(function*(){yield t,yield document.getElementById(t)?t:void 0})},[t,n]);return S(o,[t,o,...e]),r}function Ze(...e){return(...t)=>{for(let r of e)typeof r=="function"&&r(...t)}}const T=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},D=e=>e&&"window"in e&&e.window===e?e:T(e).defaultView||window;function te(...e){let t={...e[0]};for(let r=1;r<e.length;r++){let n=e[r];for(let o in n){let s=t[o],i=n[o];typeof s=="function"&&typeof i=="function"&&o[0]==="o"&&o[1]==="n"&&o.charCodeAt(2)>=65&&o.charCodeAt(2)<=90?t[o]=Ze(s,i):(o==="className"||o==="UNSAFE_className")&&typeof s=="string"&&typeof i=="string"?t[o]=kt(s,i):o==="id"&&s&&i?t.id=Dt(s,i):t[o]=i!==void 0?i:s}}return t}function Dr(...e){return e.length===1?e[0]:t=>{for(let r of e)typeof r=="function"?r(t):r!=null&&(r.current=t)}}const At=new Set(["id"]),It=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),Ht=new Set(["href","target","rel","download","ping","referrerPolicy"]),Ot=/^(data-.*)$/;function Ar(e,t={}){let{labelable:r,isLink:n,propNames:o}=t,s={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(At.has(i)||r&&It.has(i)||n&&Ht.has(i)||o!=null&&o.has(i)||Ot.test(i))&&(s[i]=e[i]);return s}function B(e){if(Rt())e.focus({preventScroll:!0});else{let t=Wt(e);e.focus(),Ut(t)}}let oe=null;function Rt(){if(oe==null){oe=!1;try{document.createElement("div").focus({get preventScroll(){return oe=!0,!0}})}catch{}}return oe}function Wt(e){let t=e.parentNode,r=[],n=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==n;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&r.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}function Ut(e){for(let{element:t,scrollTop:r,scrollLeft:n}of e)t.scrollTop=r,t.scrollLeft=n}function he(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function ke(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Q(){return ke(/^Mac/i)}function Bt(){return ke(/^iPhone/i)}function et(){return ke(/^iPad/i)||Q()&&navigator.maxTouchPoints>1}function Fe(){return Bt()||et()}function Ir(){return Q()||Fe()}function Gt(){return he(/AppleWebKit/i)&&!zt()}function zt(){return he(/Chrome/i)}function tt(){return he(/Android/i)}function jt(){return he(/Firefox/i)}const rt=v.createContext({isNative:!0,open:Xt});function Hr(e){let{children:t,navigate:r}=e,n=v.useMemo(()=>({isNative:!1,open:(o,s)=>{nt(o,i=>{Vt(i,s)?r(i.pathname+i.search+i.hash):z(i,s)})}}),[r]);return L.createElement(rt.Provider,{value:n},t)}function Or(){return v.useContext(rt)}function Vt(e,t){let r=e.getAttribute("target");return(!r||r==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!t.metaKey&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}function z(e,t,r=!0){var n,o;let{metaKey:s,ctrlKey:i,altKey:u,shiftKey:c}=t;jt()&&(!((o=window.event)===null||o===void 0||(n=o.type)===null||n===void 0)&&n.startsWith("key"))&&e.target==="_blank"&&(Q()?s=!0:i=!0);let f=Gt()&&Q()&&!et()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:s,ctrlKey:i,altKey:u,shiftKey:c}):new MouseEvent("click",{metaKey:s,ctrlKey:i,altKey:u,shiftKey:c,bubbles:!0,cancelable:!0});z.isOpening=r,B(e),e.dispatchEvent(f),z.isOpening=!1}z.isOpening=!1;function nt(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let r=document.createElement("a");r.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(r.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(r.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(r.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(r.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(r.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(r),t(r),e.removeChild(r)}}function Xt(e,t){nt(e,r=>z(r,t))}let q=new Map,xe=new Set;function He(){if(typeof window>"u")return;function e(n){return"propertyName"in n}let t=n=>{if(!e(n)||!n.target)return;let o=q.get(n.target);o||(o=new Set,q.set(n.target,o),n.target.addEventListener("transitioncancel",r,{once:!0})),o.add(n.propertyName)},r=n=>{if(!e(n)||!n.target)return;let o=q.get(n.target);if(o&&(o.delete(n.propertyName),o.size===0&&(n.target.removeEventListener("transitioncancel",r),q.delete(n.target)),q.size===0)){for(let s of xe)s();xe.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",r)}typeof document<"u"&&(document.readyState!=="loading"?He():document.addEventListener("DOMContentLoaded",He));function ot(e){requestAnimationFrame(()=>{q.size===0?e():xe.add(e)})}function it(){let e=v.useRef(new Map),t=v.useCallback((o,s,i,u)=>{let c=u!=null&&u.once?(...f)=>{e.current.delete(i),i(...f)}:i;e.current.set(i,{type:s,eventTarget:o,fn:c,options:u}),o.addEventListener(s,i,u)},[]),r=v.useCallback((o,s,i,u)=>{var c;let f=((c=e.current.get(i))===null||c===void 0?void 0:c.fn)||i;o.removeEventListener(s,f,u),e.current.delete(i)},[]),n=v.useCallback(()=>{e.current.forEach((o,s)=>{r(o.eventTarget,o.type,s,o.options)})},[r]);return v.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function Rr(e,t){let{id:r,"aria-label":n,"aria-labelledby":o}=e;return r=Qe(r),o&&n?o=[...new Set([r,...o.trim().split(/\s+/)])].join(" "):o&&(o=o.trim().split(/\s+/).join(" ")),!n&&!o&&t&&(n=t),{id:r,"aria-label":n,"aria-labelledby":o}}function Yt(){return typeof window.ResizeObserver<"u"}function Wr(e){const{ref:t,onResize:r}=e;v.useEffect(()=>{let n=t==null?void 0:t.current;if(n)if(Yt()){const o=new window.ResizeObserver(s=>{s.length&&r()});return o.observe(n),()=>{n&&o.unobserve(n)}}else return window.addEventListener("resize",r,!1),()=>{window.removeEventListener("resize",r,!1)}},[r,t])}function at(e,t){S(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}function Oe(e,t){let r=e;for(Re(r,t)&&(r=r.parentElement);r&&!Re(r,t);)r=r.parentElement;return r||document.scrollingElement||document.documentElement}function Re(e,t){let r=window.getComputedStyle(e),n=/(auto|scroll)/.test(r.overflow+r.overflowX+r.overflowY);return n&&t&&(n=e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth),n}let _t=0;const Ee=new Map;function qt(e){let[t,r]=v.useState();return S(()=>{if(!e)return;let n=Ee.get(e);if(n)r(n.element.id);else{let o=`react-aria-description-${_t++}`;r(o);let s=document.createElement("div");s.id=o,s.style.display="none",s.textContent=e,document.body.appendChild(s),n={refCount:0,element:s},Ee.set(e,n)}return n.refCount++,()=>{n&&--n.refCount===0&&(n.element.remove(),Ee.delete(e))}},[e]),{"aria-describedby":e?t:void 0}}function Ur(e,t,r,n){let o=F(r),s=r==null;v.useEffect(()=>{if(s||!e.current)return;let i=e.current;return i.addEventListener(t,o,n),()=>{i.removeEventListener(t,o,n)}},[e,t,n,s,o])}function Jt(e,t){let r=We(e,t,"left"),n=We(e,t,"top"),o=t.offsetWidth,s=t.offsetHeight,i=e.scrollLeft,u=e.scrollTop,{borderTopWidth:c,borderLeftWidth:f}=getComputedStyle(e),d=e.scrollLeft+parseInt(f,10),h=e.scrollTop+parseInt(c,10),g=d+e.clientWidth,b=h+e.clientHeight;r<=i?i=r-parseInt(f,10):r+o>g&&(i+=r+o-g),n<=h?u=n-parseInt(c,10):n+s>b&&(u+=n+s-b),e.scrollLeft=i,e.scrollTop=u}function We(e,t,r){const n=r==="left"?"offsetLeft":"offsetTop";let o=0;for(;t.offsetParent&&(o+=t[n],t.offsetParent!==e);){if(t.offsetParent.contains(e)){o-=e[n];break}t=t.offsetParent}return o}function Br(e,t){if(document.contains(e)){let i=document.scrollingElement||document.documentElement;if(window.getComputedStyle(i).overflow==="hidden"){let c=Oe(e);for(;e&&c&&e!==i&&c!==i;)Jt(c,e),e=c,c=Oe(e)}else{var r;let{left:c,top:f}=e.getBoundingClientRect();e==null||(r=e.scrollIntoView)===null||r===void 0||r.call(e,{block:"nearest"});let{left:d,top:h}=e.getBoundingClientRect();if(Math.abs(c-d)>1||Math.abs(f-h)>1){var n,o,s;t==null||(o=t.containingElement)===null||o===void 0||(n=o.scrollIntoView)===null||n===void 0||n.call(o,{block:"center",inline:"center"}),(s=e.scrollIntoView)===null||s===void 0||s.call(e,{block:"nearest"})}}}}function Se(e){return e.mozInputSource===0&&e.isTrusted?!0:tt()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Qt(e){return!tt()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"}function Gr(e,t,r){let n=v.useRef(t),o=F(()=>{r&&r(n.current)});v.useEffect(()=>{var s;let i=e==null||(s=e.current)===null||s===void 0?void 0:s.form;return i==null||i.addEventListener("reset",o),()=>{i==null||i.removeEventListener("reset",o)}},[e,o])}function Zt(e,t){return t.get?t.get.call(e):t.value}function st(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function er(e,t){var r=st(e,t,"get");return Zt(e,r)}function tr(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}function Ue(e,t,r){var n=st(e,t,"set");return tr(e,n,r),r}let J="default",Le="",le=new WeakMap;function Be(e){if(Fe()){if(J==="default"){const t=T(e);Le=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}J="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(le.set(e,e.style.userSelect),e.style.userSelect="none")}function ie(e){if(Fe()){if(J!=="disabled")return;J="restoring",setTimeout(()=>{ot(()=>{if(J==="restoring"){const t=T(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=Le||""),Le="",J="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&le.has(e)){let t=le.get(e);e.style.userSelect==="none"&&(e.style.userSelect=t),e.getAttribute("style")===""&&e.removeAttribute("style"),le.delete(e)}}const Ke=L.createContext({register:()=>{}});Ke.displayName="PressResponderContext";function rr(e){let t=v.useContext(Ke);if(t){let{register:r,...n}=t;e=te(n,e),r()}return at(t,e.ref),e}var ae=new WeakMap;class se{continuePropagation(){Ue(this,ae,!1)}get shouldStopPropagation(){return er(this,ae)}constructor(t,r,n){Nt(this,ae,{writable:!0,value:void 0}),Ue(this,ae,!0),this.type=t,this.pointerType=r,this.target=n.currentTarget,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey}}const Ge=Symbol("linkClicked");function nr(e){let{onPress:t,onPressChange:r,onPressStart:n,onPressEnd:o,onPressUp:s,isDisabled:i,isPressed:u,preventFocusOnPress:c,shouldCancelOnPointerExit:f,allowTextSelectionOnPress:d,ref:h,...g}=rr(e),[b,y]=v.useState(!1),C=v.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:W,removeAllGlobalListeners:V}=it(),A=F((a,m)=>{let K=C.current;if(i||K.didFirePressStart)return!1;let $=!0;if(K.isTriggeringEvent=!0,n){let P=new se("pressstart",m,a);n(P),$=P.shouldStopPropagation}return r&&r(!0),K.isTriggeringEvent=!1,K.didFirePressStart=!0,y(!0),$}),N=F((a,m,K=!0)=>{let $=C.current;if(!$.didFirePressStart)return!1;$.ignoreClickAfterPress=!0,$.didFirePressStart=!1,$.isTriggeringEvent=!0;let P=!0;if(o){let l=new se("pressend",m,a);o(l),P=l.shouldStopPropagation}if(r&&r(!1),y(!1),t&&K&&!i){let l=new se("press",m,a);t(l),P&&(P=l.shouldStopPropagation)}return $.isTriggeringEvent=!1,P}),X=F((a,m)=>{let K=C.current;if(i)return!1;if(s){K.isTriggeringEvent=!0;let $=new se("pressup",m,a);return s($),K.isTriggeringEvent=!1,$.shouldStopPropagation}return!0}),U=F(a=>{let m=C.current;m.isPressed&&m.target&&(m.isOverTarget&&m.pointerType!=null&&N(I(m.target,a),m.pointerType,!1),m.isPressed=!1,m.isOverTarget=!1,m.activePointerId=null,m.pointerType=null,V(),d||ie(m.target))}),ne=F(a=>{f&&U(a)}),mt=v.useMemo(()=>{let a=C.current,m={onKeyDown($){if(Te($.nativeEvent,$.currentTarget)&&$.currentTarget.contains($.target)){var P;je($.target,$.key)&&$.preventDefault();let l=!0;if(!a.isPressed&&!$.repeat){a.target=$.currentTarget,a.isPressed=!0,l=A($,"keyboard");let p=$.currentTarget,w=Y=>{Te(Y,p)&&!Y.repeat&&p.contains(Y.target)&&a.target&&X(I(a.target,Y),"keyboard")};W(T($.currentTarget),"keyup",Ze(w,K),!0)}l&&$.stopPropagation(),$.metaKey&&Q()&&((P=a.metaKeyEvents)===null||P===void 0||P.set($.key,$.nativeEvent))}else $.key==="Meta"&&(a.metaKeyEvents=new Map)},onClick($){if(!($&&!$.currentTarget.contains($.target))&&$&&$.button===0&&!a.isTriggeringEvent&&!z.isOpening){let P=!0;if(i&&$.preventDefault(),!a.ignoreClickAfterPress&&!a.ignoreEmulatedMouseEvents&&!a.isPressed&&(a.pointerType==="virtual"||Se($.nativeEvent))){!i&&!c&&B($.currentTarget);let l=A($,"virtual"),p=X($,"virtual"),w=N($,"virtual");P=l&&p&&w}a.ignoreEmulatedMouseEvents=!1,a.ignoreClickAfterPress=!1,P&&$.stopPropagation()}}},K=$=>{var P;if(a.isPressed&&a.target&&Te($,a.target)){var l;je($.target,$.key)&&$.preventDefault();let w=$.target;N(I(a.target,$),"keyboard",a.target.contains(w)),V(),$.key!=="Enter"&&De(a.target)&&a.target.contains(w)&&!$[Ge]&&($[Ge]=!0,z(a.target,$,!1)),a.isPressed=!1,(l=a.metaKeyEvents)===null||l===void 0||l.delete($.key)}else if($.key==="Meta"&&(!((P=a.metaKeyEvents)===null||P===void 0)&&P.size)){var p;let w=a.metaKeyEvents;a.metaKeyEvents=void 0;for(let Y of w.values())(p=a.target)===null||p===void 0||p.dispatchEvent(new KeyboardEvent("keyup",Y))}};if(typeof PointerEvent<"u"){m.onPointerDown=p=>{if(p.button!==0||!p.currentTarget.contains(p.target))return;if(Qt(p.nativeEvent)){a.pointerType="virtual";return}Pe(p.currentTarget)&&p.preventDefault(),a.pointerType=p.pointerType;let w=!0;a.isPressed||(a.isPressed=!0,a.isOverTarget=!0,a.activePointerId=p.pointerId,a.target=p.currentTarget,!i&&!c&&B(p.currentTarget),d||Be(a.target),w=A(p,a.pointerType),W(T(p.currentTarget),"pointermove",$,!1),W(T(p.currentTarget),"pointerup",P,!1),W(T(p.currentTarget),"pointercancel",l,!1)),w&&p.stopPropagation()},m.onMouseDown=p=>{p.currentTarget.contains(p.target)&&p.button===0&&(Pe(p.currentTarget)&&p.preventDefault(),p.stopPropagation())},m.onPointerUp=p=>{!p.currentTarget.contains(p.target)||a.pointerType==="virtual"||p.button===0&&_(p,p.currentTarget)&&X(p,a.pointerType||p.pointerType)};let $=p=>{p.pointerId===a.activePointerId&&(a.target&&_(p,a.target)?!a.isOverTarget&&a.pointerType!=null&&(a.isOverTarget=!0,A(I(a.target,p),a.pointerType)):a.target&&a.isOverTarget&&a.pointerType!=null&&(a.isOverTarget=!1,N(I(a.target,p),a.pointerType,!1),ne(p)))},P=p=>{p.pointerId===a.activePointerId&&a.isPressed&&p.button===0&&a.target&&(_(p,a.target)&&a.pointerType!=null?N(I(a.target,p),a.pointerType):a.isOverTarget&&a.pointerType!=null&&N(I(a.target,p),a.pointerType,!1),a.isPressed=!1,a.isOverTarget=!1,a.activePointerId=null,a.pointerType=null,V(),d||ie(a.target))},l=p=>{U(p)};m.onDragStart=p=>{p.currentTarget.contains(p.target)&&U(p)}}else{m.onMouseDown=l=>{if(l.button!==0||!l.currentTarget.contains(l.target))return;if(Pe(l.currentTarget)&&l.preventDefault(),a.ignoreEmulatedMouseEvents){l.stopPropagation();return}a.isPressed=!0,a.isOverTarget=!0,a.target=l.currentTarget,a.pointerType=Se(l.nativeEvent)?"virtual":"mouse",!i&&!c&&B(l.currentTarget),A(l,a.pointerType)&&l.stopPropagation(),W(T(l.currentTarget),"mouseup",$,!1)},m.onMouseEnter=l=>{if(!l.currentTarget.contains(l.target))return;let p=!0;a.isPressed&&!a.ignoreEmulatedMouseEvents&&a.pointerType!=null&&(a.isOverTarget=!0,p=A(l,a.pointerType)),p&&l.stopPropagation()},m.onMouseLeave=l=>{if(!l.currentTarget.contains(l.target))return;let p=!0;a.isPressed&&!a.ignoreEmulatedMouseEvents&&a.pointerType!=null&&(a.isOverTarget=!1,p=N(l,a.pointerType,!1),ne(l)),p&&l.stopPropagation()},m.onMouseUp=l=>{l.currentTarget.contains(l.target)&&!a.ignoreEmulatedMouseEvents&&l.button===0&&X(l,a.pointerType||"mouse")};let $=l=>{if(l.button===0){if(a.isPressed=!1,V(),a.ignoreEmulatedMouseEvents){a.ignoreEmulatedMouseEvents=!1;return}a.target&&_(l,a.target)&&a.pointerType!=null?N(I(a.target,l),a.pointerType):a.target&&a.isOverTarget&&a.pointerType!=null&&N(I(a.target,l),a.pointerType,!1),a.isOverTarget=!1}};m.onTouchStart=l=>{if(!l.currentTarget.contains(l.target))return;let p=or(l.nativeEvent);if(!p)return;a.activePointerId=p.identifier,a.ignoreEmulatedMouseEvents=!0,a.isOverTarget=!0,a.isPressed=!0,a.target=l.currentTarget,a.pointerType="touch",!i&&!c&&B(l.currentTarget),d||Be(a.target),A(l,a.pointerType)&&l.stopPropagation(),W(D(l.currentTarget),"scroll",P,!0)},m.onTouchMove=l=>{if(!l.currentTarget.contains(l.target))return;if(!a.isPressed){l.stopPropagation();return}let p=ze(l.nativeEvent,a.activePointerId),w=!0;p&&_(p,l.currentTarget)?!a.isOverTarget&&a.pointerType!=null&&(a.isOverTarget=!0,w=A(l,a.pointerType)):a.isOverTarget&&a.pointerType!=null&&(a.isOverTarget=!1,w=N(l,a.pointerType,!1),ne(l)),w&&l.stopPropagation()},m.onTouchEnd=l=>{if(!l.currentTarget.contains(l.target))return;if(!a.isPressed){l.stopPropagation();return}let p=ze(l.nativeEvent,a.activePointerId),w=!0;p&&_(p,l.currentTarget)&&a.pointerType!=null?(X(l,a.pointerType),w=N(l,a.pointerType)):a.isOverTarget&&a.pointerType!=null&&(w=N(l,a.pointerType,!1)),w&&l.stopPropagation(),a.isPressed=!1,a.activePointerId=null,a.isOverTarget=!1,a.ignoreEmulatedMouseEvents=!0,a.target&&!d&&ie(a.target),V()},m.onTouchCancel=l=>{l.currentTarget.contains(l.target)&&(l.stopPropagation(),a.isPressed&&U(l))};let P=l=>{a.isPressed&&l.target.contains(a.target)&&U({currentTarget:a.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};m.onDragStart=l=>{l.currentTarget.contains(l.target)&&U(l)}}return m},[W,i,c,V,d,U,ne,N,A,X]);return v.useEffect(()=>()=>{var a;d||ie((a=C.current.target)!==null&&a!==void 0?a:void 0)},[d]),{isPressed:u||b,pressProps:te(g,mt)}}function De(e){return e.tagName==="A"&&e.hasAttribute("href")}function Te(e,t){const{key:r,code:n}=e,o=t,s=o.getAttribute("role");return(r==="Enter"||r===" "||r==="Spacebar"||n==="Space")&&!(o instanceof D(o).HTMLInputElement&&!ut(o,r)||o instanceof D(o).HTMLTextAreaElement||o.isContentEditable)&&!((s==="link"||!s&&De(o))&&r!=="Enter")}function or(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}function ze(e,t){const r=e.changedTouches;for(let n=0;n<r.length;n++){const o=r[n];if(o.identifier===t)return o}return null}function I(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function ir(e){let t=0,r=0;return e.width!==void 0?t=e.width/2:e.radiusX!==void 0&&(t=e.radiusX),e.height!==void 0?r=e.height/2:e.radiusY!==void 0&&(r=e.radiusY),{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function ar(e,t){return!(e.left>t.right||t.left>e.right||e.top>t.bottom||t.top>e.bottom)}function _(e,t){let r=t.getBoundingClientRect(),n=ir(e);return ar(r,n)}function Pe(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function je(e,t){return e instanceof HTMLInputElement?!ut(e,t):e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!De(e)}const sr=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ut(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":sr.has(e.type)}function zr({children:e}){let t=v.useMemo(()=>({register:()=>{}}),[]);return L.createElement(Ke.Provider,{value:t},e)}class ur{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,r){this.nativeEvent=r,this.target=r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget,this.bubbles=r.bubbles,this.cancelable=r.cancelable,this.defaultPrevented=r.defaultPrevented,this.eventPhase=r.eventPhase,this.isTrusted=r.isTrusted,this.timeStamp=r.timeStamp,this.type=t}}function lt(e){let t=v.useRef({isFocused:!1,observer:null});S(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=F(n=>{e==null||e(n)});return v.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=n.target,s=i=>{t.current.isFocused=!1,o.disabled&&r(new ur("blur",i)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",s,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var i;(i=t.current.observer)===null||i===void 0||i.disconnect();let u=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[r])}function ct(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:o}=e;const s=v.useCallback(c=>{if(c.target===c.currentTarget)return n&&n(c),o&&o(!1),!0},[n,o]),i=lt(s),u=v.useCallback(c=>{c.target===c.currentTarget&&document.activeElement===c.target&&(r&&r(c),o&&o(!0),i(c))},[o,r,i]);return{focusProps:{onFocus:!t&&(r||o||n)?u:void 0,onBlur:!t&&(n||o)?s:void 0}}}let O=null,re=new Set,ee=new Map,j=!1,Me=!1;const lr={Tab:!0,Escape:!0};function me(e,t){for(let r of re)r(e,t)}function cr(e){return!(e.metaKey||!Q()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function de(e){j=!0,cr(e)&&(O="keyboard",me("keyboard",e))}function k(e){O="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(j=!0,me("pointer",e))}function ft(e){Se(e)&&(j=!0,O="virtual")}function dt(e){e.target===window||e.target===document||(!j&&!Me&&(O="virtual",me("virtual",e)),j=!1,Me=!1)}function pt(){j=!1,Me=!0}function pe(e){if(typeof window>"u"||ee.get(D(e)))return;const t=D(e),r=T(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){j=!0,n.apply(this,arguments)},r.addEventListener("keydown",de,!0),r.addEventListener("keyup",de,!0),r.addEventListener("click",ft,!0),t.addEventListener("focus",dt,!0),t.addEventListener("blur",pt,!1),typeof PointerEvent<"u"?(r.addEventListener("pointerdown",k,!0),r.addEventListener("pointermove",k,!0),r.addEventListener("pointerup",k,!0)):(r.addEventListener("mousedown",k,!0),r.addEventListener("mousemove",k,!0),r.addEventListener("mouseup",k,!0)),t.addEventListener("beforeunload",()=>{vt(e)},{once:!0}),ee.set(t,{focus:n})}const vt=(e,t)=>{const r=D(e),n=T(e);t&&n.removeEventListener("DOMContentLoaded",t),ee.has(r)&&(r.HTMLElement.prototype.focus=ee.get(r).focus,n.removeEventListener("keydown",de,!0),n.removeEventListener("keyup",de,!0),n.removeEventListener("click",ft,!0),r.removeEventListener("focus",dt,!0),r.removeEventListener("blur",pt,!1),typeof PointerEvent<"u"?(n.removeEventListener("pointerdown",k,!0),n.removeEventListener("pointermove",k,!0),n.removeEventListener("pointerup",k,!0)):(n.removeEventListener("mousedown",k,!0),n.removeEventListener("mousemove",k,!0),n.removeEventListener("mouseup",k,!0)),ee.delete(r))};function fr(e){const t=T(e);let r;return t.readyState!=="loading"?pe(e):(r=()=>{pe(e)},t.addEventListener("DOMContentLoaded",r)),()=>vt(e,r)}typeof document<"u"&&fr();function bt(){return O!=="pointer"}function dr(){return O}function jr(e){O=e,me(e,null)}function Vr(){pe();let[e,t]=v.useState(O);return v.useEffect(()=>{let r=()=>{t(O)};return re.add(r),()=>{re.delete(r)}},[]),qe()?null:e}const pr=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function vr(e,t,r){var n;const o=typeof window<"u"?D(r==null?void 0:r.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?D(r==null?void 0:r.target).HTMLTextAreaElement:HTMLTextAreaElement,i=typeof window<"u"?D(r==null?void 0:r.target).HTMLElement:HTMLElement,u=typeof window<"u"?D(r==null?void 0:r.target).KeyboardEvent:KeyboardEvent;return e=e||(r==null?void 0:r.target)instanceof o&&!pr.has(r==null||(n=r.target)===null||n===void 0?void 0:n.type)||(r==null?void 0:r.target)instanceof s||(r==null?void 0:r.target)instanceof i&&(r==null?void 0:r.target.isContentEditable),!(e&&t==="keyboard"&&r instanceof u&&!lr[r.key])}function br(e,t,r){pe(),v.useEffect(()=>{let n=(o,s)=>{vr(!!(r!=null&&r.isTextInput),o,s)&&e(bt())};return re.add(n),()=>{re.delete(n)}},t)}function $r(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:o}=e,s=v.useRef({isFocusWithin:!1}),i=v.useCallback(f=>{s.current.isFocusWithin&&!f.currentTarget.contains(f.relatedTarget)&&(s.current.isFocusWithin=!1,r&&r(f),o&&o(!1))},[r,o,s]),u=lt(i),c=v.useCallback(f=>{!s.current.isFocusWithin&&document.activeElement===f.target&&(n&&n(f),o&&o(!0),s.current.isFocusWithin=!0,u(f))},[n,o,u]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:c,onBlur:i}}}let ve=!1,we=0;function Ce(){ve=!0,setTimeout(()=>{ve=!1},50)}function Ve(e){e.pointerType==="touch"&&Ce()}function gr(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",Ve):document.addEventListener("touchend",Ce),we++,()=>{we--,!(we>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",Ve):document.removeEventListener("touchend",Ce))}}function Xr(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:o}=e,[s,i]=v.useState(!1),u=v.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;v.useEffect(gr,[]);let{hoverProps:c,triggerHoverEnd:f}=v.useMemo(()=>{let d=(b,y)=>{if(u.pointerType=y,o||y==="touch"||u.isHovered||!b.currentTarget.contains(b.target))return;u.isHovered=!0;let C=b.currentTarget;u.target=C,t&&t({type:"hoverstart",target:C,pointerType:y}),r&&r(!0),i(!0)},h=(b,y)=>{if(u.pointerType="",u.target=null,y==="touch"||!u.isHovered)return;u.isHovered=!1;let C=b.currentTarget;n&&n({type:"hoverend",target:C,pointerType:y}),r&&r(!1),i(!1)},g={};return typeof PointerEvent<"u"?(g.onPointerEnter=b=>{ve&&b.pointerType==="mouse"||d(b,b.pointerType)},g.onPointerLeave=b=>{!o&&b.currentTarget.contains(b.target)&&h(b,b.pointerType)}):(g.onTouchStart=()=>{u.ignoreEmulatedMouseEvents=!0},g.onMouseEnter=b=>{!u.ignoreEmulatedMouseEvents&&!ve&&d(b,"mouse"),u.ignoreEmulatedMouseEvents=!1},g.onMouseLeave=b=>{!o&&b.currentTarget.contains(b.target)&&h(b,"mouse")}),{hoverProps:g,triggerHoverEnd:h}},[t,r,n,o,u]);return v.useEffect(()=>{o&&f({currentTarget:u.target},u.pointerType)},[o]),{hoverProps:c,isHovered:s}}function Yr(e){let{ref:t,onInteractOutside:r,isDisabled:n,onInteractOutsideStart:o}=e,s=v.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),i=F(c=>{r&&ue(c,t)&&(o&&o(c),s.current.isPointerDown=!0)}),u=F(c=>{r&&r(c)});v.useEffect(()=>{let c=s.current;if(n)return;const f=t.current,d=T(f);if(typeof PointerEvent<"u"){let h=g=>{c.isPointerDown&&ue(g,t)&&u(g),c.isPointerDown=!1};return d.addEventListener("pointerdown",i,!0),d.addEventListener("pointerup",h,!0),()=>{d.removeEventListener("pointerdown",i,!0),d.removeEventListener("pointerup",h,!0)}}else{let h=b=>{c.ignoreEmulatedMouseEvents?c.ignoreEmulatedMouseEvents=!1:c.isPointerDown&&ue(b,t)&&u(b),c.isPointerDown=!1},g=b=>{c.ignoreEmulatedMouseEvents=!0,c.isPointerDown&&ue(b,t)&&u(b),c.isPointerDown=!1};return d.addEventListener("mousedown",i,!0),d.addEventListener("mouseup",h,!0),d.addEventListener("touchstart",i,!0),d.addEventListener("touchend",g,!0),()=>{d.removeEventListener("mousedown",i,!0),d.removeEventListener("mouseup",h,!0),d.removeEventListener("touchstart",i,!0),d.removeEventListener("touchend",g,!0)}}},[t,n,i,u])}function ue(e,t){if(e.button>0)return!1;if(e.target){const r=e.target.ownerDocument;if(!r||!r.documentElement.contains(e.target)||e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current&&!t.current.contains(e.target)}function Xe(e){if(!e)return;let t=!0;return r=>{let n={...r,preventDefault(){r.preventDefault()},isDefaultPrevented(){return r.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(n),t&&r.stopPropagation()}}function hr(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:Xe(e.onKeyDown),onKeyUp:Xe(e.onKeyUp)}}}const mr=500;function _r(e){let{isDisabled:t,onLongPressStart:r,onLongPressEnd:n,onLongPress:o,threshold:s=mr,accessibilityDescription:i}=e;const u=v.useRef();let{addGlobalListener:c,removeGlobalListener:f}=it(),{pressProps:d}=nr({isDisabled:t,onPressStart(g){if(g.continuePropagation(),(g.pointerType==="mouse"||g.pointerType==="touch")&&(r&&r({...g,type:"longpressstart"}),u.current=setTimeout(()=>{g.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),o&&o({...g,type:"longpress"}),u.current=void 0},s),g.pointerType==="touch")){let b=y=>{y.preventDefault()};c(g.target,"contextmenu",b,{once:!0}),c(window,"pointerup",()=>{setTimeout(()=>{f(g.target,"contextmenu",b)},30)},{once:!0})}},onPressEnd(g){u.current&&clearTimeout(u.current),n&&(g.pointerType==="mouse"||g.pointerType==="touch")&&n({...g,type:"longpressend"})}}),h=qt(o&&!t?i:void 0);return{longPressProps:te(d,h)}}function $t(e){const t=T(e);if(dr()==="virtual"){let r=t.activeElement;ot(()=>{t.activeElement===r&&e.isConnected&&B(e)})}else B(e)}function yr(e){const t=D(e);if(!(e instanceof t.HTMLElement)&&!(e instanceof t.SVGElement))return!1;let{display:r,visibility:n}=e.style,o=r!=="none"&&n!=="hidden"&&n!=="collapse";if(o){const{getComputedStyle:s}=e.ownerDocument.defaultView;let{display:i,visibility:u}=s(e);o=i!=="none"&&u!=="hidden"&&u!=="collapse"}return o}function Er(e,t){return!e.hasAttribute("hidden")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function gt(e,t){return e.nodeName!=="#comment"&&yr(e)&&Er(e,t)&&(!e.parentElement||gt(e.parentElement,e))}const Ye=L.createContext(null);let E=null;function qr(e){let{children:t,contain:r,restoreFocus:n,autoFocus:o}=e,s=v.useRef(null),i=v.useRef(null),u=v.useRef([]),{parentNode:c}=v.useContext(Ye)||{},f=v.useMemo(()=>new Ne({scopeRef:u}),[u]);S(()=>{let g=c||x.root;if(x.getTreeNode(g.scopeRef)&&E&&!$e(E,g.scopeRef)){let b=x.getTreeNode(E);b&&(g=b)}g.addChild(f),x.addNode(f)},[f,c]),S(()=>{let g=x.getTreeNode(u);g&&(g.contain=!!r)},[r]),S(()=>{var g;let b=(g=s.current)===null||g===void 0?void 0:g.nextSibling,y=[];for(;b&&b!==i.current;)y.push(b),b=b.nextSibling;u.current=y},[t]),Lr(u,n,r),xr(u,r),Cr(u,n,r),Sr(u,o),v.useEffect(()=>{const g=T(u.current?u.current[0]:void 0).activeElement;let b=null;if(M(g,u.current)){for(let y of x.traverse())y.scopeRef&&M(g,y.scopeRef.current)&&(b=y);b===x.getTreeNode(u)&&(E=b.scopeRef)}},[u]),S(()=>()=>{var g,b,y;let C=(y=(b=x.getTreeNode(u))===null||b===void 0||(g=b.parent)===null||g===void 0?void 0:g.scopeRef)!==null&&y!==void 0?y:null;(u===E||$e(u,E))&&(!C||x.getTreeNode(C))&&(E=C),x.removeTreeNode(u)},[u]);let d=v.useMemo(()=>Tr(u),[]),h=v.useMemo(()=>({focusManager:d,parentNode:f}),[f,d]);return L.createElement(Ye.Provider,{value:h},L.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:s}),t,L.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:i}))}function Tr(e){return{focusNext(t={}){let r=e.current,{from:n,tabbable:o,wrap:s,accept:i}=t,u=n||T(r[0]).activeElement,c=r[0].previousElementSibling,f=G(r),d=R(f,{tabbable:o,accept:i},r);d.currentNode=M(u,r)?u:c;let h=d.nextNode();return!h&&s&&(d.currentNode=c,h=d.nextNode()),h&&H(h,!0),h},focusPrevious(t={}){let r=e.current,{from:n,tabbable:o,wrap:s,accept:i}=t,u=n||T(r[0]).activeElement,c=r[r.length-1].nextElementSibling,f=G(r),d=R(f,{tabbable:o,accept:i},r);d.currentNode=M(u,r)?u:c;let h=d.previousNode();return!h&&s&&(d.currentNode=c,h=d.previousNode()),h&&H(h,!0),h},focusFirst(t={}){let r=e.current,{tabbable:n,accept:o}=t,s=G(r),i=R(s,{tabbable:n,accept:o},r);i.currentNode=r[0].previousElementSibling;let u=i.nextNode();return u&&H(u,!0),u},focusLast(t={}){let r=e.current,{tabbable:n,accept:o}=t,s=G(r),i=R(s,{tabbable:n,accept:o},r);i.currentNode=r[r.length-1].nextElementSibling;let u=i.previousNode();return u&&H(u,!0),u}}}const Ae=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],Pr=Ae.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";Ae.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const wr=Ae.join(':not([hidden]):not([tabindex="-1"]),');function G(e){return e[0].parentElement}function Z(e){let t=x.getTreeNode(E);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function xr(e,t){let r=v.useRef(),n=v.useRef();S(()=>{let o=e.current;if(!t){n.current&&(cancelAnimationFrame(n.current),n.current=void 0);return}const s=T(o?o[0]:void 0);let i=f=>{if(f.key!=="Tab"||f.altKey||f.ctrlKey||f.metaKey||!Z(e))return;let d=s.activeElement,h=e.current;if(!h||!M(d,h))return;let g=G(h),b=R(g,{tabbable:!0},h);if(!d)return;b.currentNode=d;let y=f.shiftKey?b.previousNode():b.nextNode();y||(b.currentNode=f.shiftKey?h[h.length-1].nextElementSibling:h[0].previousElementSibling,y=f.shiftKey?b.previousNode():b.nextNode()),f.preventDefault(),y&&H(y,!0)},u=f=>{(!E||$e(E,e))&&M(f.target,e.current)?(E=e,r.current=f.target):Z(e)&&!be(f.target,e)?r.current?r.current.focus():E&&E.current&&ge(E.current):Z(e)&&(r.current=f.target)},c=f=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>{if(s.activeElement&&Z(e)&&!be(s.activeElement,e))if(E=e,s.body.contains(f.target)){var d;r.current=f.target,(d=r.current)===null||d===void 0||d.focus()}else E.current&&ge(E.current)})};return s.addEventListener("keydown",i,!1),s.addEventListener("focusin",u,!1),o==null||o.forEach(f=>f.addEventListener("focusin",u,!1)),o==null||o.forEach(f=>f.addEventListener("focusout",c,!1)),()=>{s.removeEventListener("keydown",i,!1),s.removeEventListener("focusin",u,!1),o==null||o.forEach(f=>f.removeEventListener("focusin",u,!1)),o==null||o.forEach(f=>f.removeEventListener("focusout",c,!1))}},[e,t]),S(()=>()=>{n.current&&cancelAnimationFrame(n.current)},[n])}function ht(e){return be(e)}function M(e,t){return!e||!t?!1:t.some(r=>r.contains(e))}function be(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:r}of x.traverse(x.getTreeNode(t)))if(r&&M(e,r.current))return!0;return!1}function Jr(e){return be(e,E)}function $e(e,t){var r;let n=(r=x.getTreeNode(t))===null||r===void 0?void 0:r.parent;for(;n;){if(n.scopeRef===e)return!0;n=n.parent}return!1}function H(e,t=!1){if(e!=null&&!t)try{$t(e)}catch{}else if(e!=null)try{e.focus()}catch{}}function ge(e,t=!0){let r=e[0].previousElementSibling,n=G(e),o=R(n,{tabbable:t},e);o.currentNode=r;let s=o.nextNode();t&&!s&&(n=G(e),o=R(n,{tabbable:!1},e),o.currentNode=r,s=o.nextNode()),H(s)}function Sr(e,t){const r=L.useRef(t);v.useEffect(()=>{if(r.current){E=e;const n=T(e.current?e.current[0]:void 0);!M(n.activeElement,E.current)&&e.current&&ge(e.current)}r.current=!1},[e])}function Lr(e,t,r){S(()=>{if(t||r)return;let n=e.current;const o=T(n?n[0]:void 0);let s=i=>{let u=i.target;M(u,e.current)?E=e:ht(u)||(E=null)};return o.addEventListener("focusin",s,!1),n==null||n.forEach(i=>i.addEventListener("focusin",s,!1)),()=>{o.removeEventListener("focusin",s,!1),n==null||n.forEach(i=>i.removeEventListener("focusin",s,!1))}},[e,t,r])}function Mr(e){let t=x.getTreeNode(E);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(t==null?void 0:t.scopeRef)===e}function Cr(e,t,r){const n=v.useRef(typeof document<"u"?T(e.current?e.current[0]:void 0).activeElement:null);S(()=>{let o=e.current;const s=T(o?o[0]:void 0);if(!t||r)return;let i=()=>{(!E||$e(E,e))&&M(s.activeElement,e.current)&&(E=e)};return s.addEventListener("focusin",i,!1),o==null||o.forEach(u=>u.addEventListener("focusin",i,!1)),()=>{s.removeEventListener("focusin",i,!1),o==null||o.forEach(u=>u.removeEventListener("focusin",i,!1))}},[e,r]),S(()=>{const o=T(e.current?e.current[0]:void 0);if(!t)return;let s=i=>{if(i.key!=="Tab"||i.altKey||i.ctrlKey||i.metaKey||!Z(e))return;let u=o.activeElement;if(!M(u,e.current))return;let c=x.getTreeNode(e);if(!c)return;let f=c.nodeToRestore,d=R(o.body,{tabbable:!0});d.currentNode=u;let h=i.shiftKey?d.previousNode():d.nextNode();if((!f||!o.body.contains(f)||f===o.body)&&(f=void 0,c.nodeToRestore=void 0),(!h||!M(h,e.current))&&f){d.currentNode=f;do h=i.shiftKey?d.previousNode():d.nextNode();while(M(h,e.current));i.preventDefault(),i.stopPropagation(),h?H(h,!0):ht(f)?H(f,!0):u.blur()}};return r||o.addEventListener("keydown",s,!0),()=>{r||o.removeEventListener("keydown",s,!0)}},[e,t,r]),S(()=>{const o=T(e.current?e.current[0]:void 0);if(!t)return;let s=x.getTreeNode(e);if(s){var i;return s.nodeToRestore=(i=n.current)!==null&&i!==void 0?i:void 0,()=>{let u=x.getTreeNode(e);if(!u)return;let c=u.nodeToRestore;if(t&&c&&(M(o.activeElement,e.current)||o.activeElement===o.body&&Mr(e))){let f=x.clone();requestAnimationFrame(()=>{if(o.activeElement===o.body){let d=f.getTreeNode(e);for(;d;){if(d.nodeToRestore&&d.nodeToRestore.isConnected){H(d.nodeToRestore);return}d=d.parent}for(d=f.getTreeNode(e);d;){if(d.scopeRef&&d.scopeRef.current&&x.getTreeNode(d.scopeRef)){ge(d.scopeRef.current,!0);return}d=d.parent}}})}}}},[e,t])}function R(e,t,r){let n=t!=null&&t.tabbable?wr:Pr,o=T(e).createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(s){var i;return!(t==null||(i=t.from)===null||i===void 0)&&i.contains(s)?NodeFilter.FILTER_REJECT:s.matches(n)&&gt(s)&&(!r||M(s,r))&&(!(t!=null&&t.accept)||t.accept(s))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t!=null&&t.from&&(o.currentNode=t.from),o}class Ie{get size(){return this.fastMap.size}getTreeNode(t){return this.fastMap.get(t)}addTreeNode(t,r,n){let o=this.fastMap.get(r??null);if(!o)return;let s=new Ne({scopeRef:t});o.addChild(s),s.parent=o,this.fastMap.set(t,s),n&&(s.nodeToRestore=n)}addNode(t){this.fastMap.set(t.scopeRef,t)}removeTreeNode(t){if(t===null)return;let r=this.fastMap.get(t);if(!r)return;let n=r.parent;for(let s of this.traverse())s!==r&&r.nodeToRestore&&s.nodeToRestore&&r.scopeRef&&r.scopeRef.current&&M(s.nodeToRestore,r.scopeRef.current)&&(s.nodeToRestore=r.nodeToRestore);let o=r.children;n&&(n.removeChild(r),o.size>0&&o.forEach(s=>n&&n.addChild(s))),this.fastMap.delete(r.scopeRef)}*traverse(t=this.root){if(t.scopeRef!=null&&(yield t),t.children.size>0)for(let r of t.children)yield*this.traverse(r)}clone(){var t;let r=new Ie;var n;for(let o of this.traverse())r.addTreeNode(o.scopeRef,(n=(t=o.parent)===null||t===void 0?void 0:t.scopeRef)!==null&&n!==void 0?n:null,o.nodeToRestore);return r}constructor(){this.fastMap=new Map,this.root=new Ne({scopeRef:null}),this.fastMap.set(null,this.root)}}class Ne{addChild(t){this.children.add(t),t.parent=this}removeChild(t){this.children.delete(t),t.parent=void 0}constructor(t){this.children=new Set,this.contain=!1,this.scopeRef=t.scopeRef}}let x=new Ie;function Qr(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,o=v.useRef({isFocused:!1,isFocusVisible:t||bt()}),[s,i]=v.useState(!1),[u,c]=v.useState(()=>o.current.isFocused&&o.current.isFocusVisible),f=v.useCallback(()=>c(o.current.isFocused&&o.current.isFocusVisible),[]),d=v.useCallback(b=>{o.current.isFocused=b,i(b),f()},[f]);br(b=>{o.current.isFocusVisible=b,f()},[],{isTextInput:r});let{focusProps:h}=ct({isDisabled:n,onFocusChange:d}),{focusWithinProps:g}=$r({isDisabled:!n,onFocusWithinChange:d});return{isFocused:s,isFocusVisible:u,focusProps:n?g:h}}let Nr=L.createContext(null);function kr(e){let t=v.useContext(Nr)||{};at(t,e);let{ref:r,...n}=t;return n}function Zr(e,t){let{focusProps:r}=ct(e),{keyboardProps:n}=hr(e),o=te(r,n),s=kr(t),i=e.isDisabled?{}:s,u=v.useRef(e.autoFocus);return v.useEffect(()=>{u.current&&t.current&&$t(t.current),u.current=!1},[t]),{focusableProps:te({...o,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},i)}}export{Hr as $,_r as A,z as B,dr as C,Ir as D,R as E,B as F,hr as G,ct as H,qe as I,S as J,F as K,Rr as L,D as M,zr as N,Yr as O,Jr as P,Fe as Q,ot as R,it as S,Qt as T,Se as U,at as V,nr as a,Zr as b,te as c,Ar as d,Gr as e,Xr as f,Qr as g,Ze as h,Vr as i,Qe as j,jr as k,$r as l,Kr as m,Q as n,Gt as o,bt as p,Or as q,Vt as r,Dr as s,qr as t,Wr as u,Re as v,Ur as w,$t as x,Jt as y,Br as z};
