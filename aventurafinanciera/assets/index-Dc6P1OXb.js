var ii=Object.defineProperty;var oi=(e,t,r)=>t in e?ii(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var rt=(e,t,r)=>(oi(e,typeof t!="symbol"?t+"":t,r),r);import{g as br,c as E}from"./_commonjsHelpers-C4iS2aBk.js";import{u as pr}from"./util-DVlLIp8b.js";import{i as _e,j as yr,a as ui,b as li,r as Wn,S as $e,c as si,d as fi,s as _r,e as tn,f as rn,g as di,h as ci,k as hi}from"./responses-JPWar71Q.js";import{m as mi,s as bi,U as ar,i as Tt,j as jn,E as pi,g as yi,b as _i}from"./router-JOb6U47x.js";/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var vi=wi,Si=Ri,gi=Object.prototype.toString,nt=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function wi(e,t){if(typeof e!="string")throw new TypeError("argument str must be a string");for(var r={},n=t||{},a=n.decode||Ci,i=0;i<e.length;){var o=e.indexOf("=",i);if(o===-1)break;var u=e.indexOf(";",i);if(u===-1)u=e.length;else if(u<o){i=e.lastIndexOf(";",o-1)+1;continue}var s=e.slice(i,o).trim();if(r[s]===void 0){var l=e.slice(o+1,u).trim();l.charCodeAt(0)===34&&(l=l.slice(1,-1)),r[s]=Ei(l,a)}i=u+1}return r}function Ri(e,t,r){var n=r||{},a=n.encode||Pi;if(typeof a!="function")throw new TypeError("option encode is invalid");if(!nt.test(e))throw new TypeError("argument name is invalid");var i=a(t);if(i&&!nt.test(i))throw new TypeError("argument val is invalid");var o=e+"="+i;if(n.maxAge!=null){var u=n.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(u)}if(n.domain){if(!nt.test(n.domain))throw new TypeError("option domain is invalid");o+="; Domain="+n.domain}if(n.path){if(!nt.test(n.path))throw new TypeError("option path is invalid");o+="; Path="+n.path}if(n.expires){var s=n.expires;if(!Ti(s)||isNaN(s.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+s.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority){var l=typeof n.priority=="string"?n.priority.toLowerCase():n.priority;switch(l){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(n.sameSite){var f=typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite;switch(f){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o}function Ci(e){return e.indexOf("%")!==-1?decodeURIComponent(e):e}function Pi(e){return encodeURIComponent(e)}function Ti(e){return gi.call(e)==="[object Date]"||e instanceof Date}function Ei(e,t){try{return t(e)}catch{return e}}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const nn={};function Bn(e,t){!e&&!nn[t]&&(nn[t]=!0,console.warn(t))}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const ki=({sign:e,unsign:t})=>(r,n={})=>{let{secrets:a=[],...i}={path:"/",sameSite:"lax",...n};return Bi(r,i.expires),{get name(){return r},get isSigned(){return a.length>0},get expires(){return typeof i.maxAge<"u"?new Date(Date.now()+i.maxAge*1e3):i.expires},async parse(o,u){if(!o)return null;let s=vi(o,{...i,...u});return r in s?s[r]===""?"":await Oi(t,s[r],a):null},async serialize(o,u){return Si(r,o===""?"":await Ai(e,o,a),{...i,...u})}}},vr=e=>e!=null&&typeof e.name=="string"&&typeof e.isSigned=="boolean"&&typeof e.parse=="function"&&typeof e.serialize=="function";async function Ai(e,t,r){let n=qi(t);return r.length>0&&(n=await e(n,r[0])),n}async function Oi(e,t,r){if(r.length>0){for(let n of r){let a=await e(t,n);if(a!==!1)return an(a)}return null}return an(t)}function qi(e){return btoa(ji(encodeURIComponent(JSON.stringify(e))))}function an(e){try{return JSON.parse(decodeURIComponent(Wi(atob(e))))}catch{return{}}}function Wi(e){let t=e.toString(),r="",n=0,a,i;for(;n<t.length;)a=t.charAt(n++),/[\w*+\-./@]/.exec(a)?r+=a:(i=a.charCodeAt(0),i<256?r+="%"+on(i,2):r+="%u"+on(i,4).toUpperCase());return r}function on(e,t){let r=e.toString(16);for(;r.length<t;)r="0"+r;return r}function ji(e){let t=e.toString(),r="",n=0,a,i;for(;n<t.length;){if(a=t.charAt(n++),a==="%"){if(t.charAt(n)==="u"){if(i=t.slice(n+1,n+5),/^[\da-f]{4}$/i.exec(i)){r+=String.fromCharCode(parseInt(i,16)),n+=5;continue}}else if(i=t.slice(n,n+2),/^[\da-f]{2}$/i.exec(i)){r+=String.fromCharCode(parseInt(i,16)),n+=2;continue}}r+=a}return r}function Bi(e,t){Bn(!t,`The "${e}" cookie has an "expires" property set. This will cause the expires value to not be updated when the session is committed. Instead, you should set the expires value when serializing the cookie. You can use \`commitSession(session, { expires })\` if using a session storage object, or \`cookie.serialize("value", { expires })\` if you're using the cookie directly.`)}function Et(e){const t=unescape(encodeURIComponent(e));return Uint8Array.from(t,(r,n)=>t.charCodeAt(n))}function Di(e){const t=String.fromCharCode.apply(null,e);return decodeURIComponent(escape(t))}function _t(...e){const t=new Uint8Array(e.reduce((n,a)=>n+a.length,0));let r=0;for(const n of e)t.set(n,r),r+=n.length;return t}function Fi(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function un(e){return e instanceof Uint8Array?t=>e[t]:e}function Yt(e,t,r,n,a){const i=un(e),o=un(r);for(let u=0;u<a;++u)if(i(t+u)!==o(n+u))return!1;return!0}function Ii(e){const t=new Array(256).fill(e.length);if(e.length>1)for(let r=0;r<e.length-1;r++)t[e[r]]=e.length-1-r;return t}const N=Symbol("Match");class Sr{constructor(t){this._lookbehind=new Uint8Array,typeof t=="string"?this._needle=t=Et(t):this._needle=t,this._lastChar=t[t.length-1],this._occ=Ii(t)}feed(t){let r=0,n;const a=[];for(;r!==t.length;)[r,...n]=this._feed(t,r),a.push(...n);return a}end(){const t=this._lookbehind;return this._lookbehind=new Uint8Array,t}_feed(t,r){const n=[];let a=-this._lookbehind.length;if(a<0){for(;a<0&&a<=t.length-this._needle.length;){const i=this._charAt(t,a+this._needle.length-1);if(i===this._lastChar&&this._memcmp(t,a,this._needle.length-1))return a>-this._lookbehind.length&&n.push(this._lookbehind.slice(0,this._lookbehind.length+a)),n.push(N),this._lookbehind=new Uint8Array,[a+this._needle.length,...n];a+=this._occ[i]}if(a<0)for(;a<0&&!this._memcmp(t,a,t.length-a);)a++;if(a>=0)n.push(this._lookbehind),this._lookbehind=new Uint8Array;else{const i=this._lookbehind.length+a;return i>0&&(n.push(this._lookbehind.slice(0,i)),this._lookbehind=this._lookbehind.slice(i)),this._lookbehind=Uint8Array.from(new Array(this._lookbehind.length+t.length),(o,u)=>this._charAt(t,u-this._lookbehind.length)),[t.length,...n]}}for(a+=r;a<=t.length-this._needle.length;){const i=t[a+this._needle.length-1];if(i===this._lastChar&&t[a]===this._needle[0]&&Yt(this._needle,0,t,a,this._needle.length-1))return a>r&&n.push(t.slice(r,a)),n.push(N),[a+this._needle.length,...n];a+=this._occ[i]}if(a<t.length){for(;a<t.length&&(t[a]!==this._needle[0]||!Yt(t,a,this._needle,0,t.length-a));)++a;a<t.length&&(this._lookbehind=t.slice(a))}return a>0&&n.push(t.slice(r,a<t.length?a:t.length)),[t.length,...n]}_charAt(t,r){return r<0?this._lookbehind[this._lookbehind.length+r]:t[r]}_memcmp(t,r,n){return Yt(this._charAt.bind(this,t),r,this._needle,0,n)}}class zi{constructor(t,r){this._readableStream=r,this._search=new Sr(t)}async*[Symbol.asyncIterator](){const t=this._readableStream.getReader();try{for(;;){const n=await t.read();if(n.done)break;yield*this._search.feed(n.value)}const r=this._search.end();r.length&&(yield r)}finally{t.releaseLock()}}}const Mi=Function.prototype.apply.bind(_t,void 0),Dn=Et("--"),Ne=Et(`\r
`);function xi(e){const t=e.split(";").map(n=>n.trim());if(t.shift()!=="form-data")throw new Error('malformed content-disposition header: missing "form-data" in `'+JSON.stringify(t)+"`");const r={};for(const n of t){const a=n.split("=",2);if(a.length!==2)throw new Error("malformed content-disposition header: key-value pair not found - "+n+" in `"+e+"`");const[i,o]=a;if(o[0]==='"'&&o[o.length-1]==='"')r[i]=o.slice(1,-1).replace(/\\"/g,'"');else if(o[0]!=='"'&&o[o.length-1]!=='"')r[i]=o;else if(o[0]==='"'&&o[o.length-1]!=='"'||o[0]!=='"'&&o[o.length-1]==='"')throw new Error("malformed content-disposition header: mismatched quotations in `"+e+"`")}if(!r.name)throw new Error("malformed content-disposition header: missing field name in `"+e+"`");return r}function Li(e){const t=[];let r=!1,n;for(;typeof(n=e.shift())<"u";){const a=n.indexOf(":");if(a===-1)throw new Error("malformed multipart-form header: missing colon");const i=n.slice(0,a).trim().toLowerCase(),o=n.slice(a+1).trim();switch(i){case"content-disposition":r=!0,t.push(...Object.entries(xi(o)));break;case"content-type":t.push(["contentType",o])}}if(!r)throw new Error("malformed multipart-form header: missing content-disposition");return Object.fromEntries(t)}async function Ui(e,t){let r=!0,n=!1;const a=[[]],i=new Sr(Ne);for(;;){const o=await e.next();if(o.done)throw new Error("malformed multipart-form data: unexpected end of stream");if(r&&o.value!==N&&Fi(o.value.slice(0,2),Dn))return[void 0,new Uint8Array];let u;if(o.value!==N)u=o.value;else if(!n)u=t;else throw new Error("malformed multipart-form data: unexpected boundary");if(!u.length)continue;r&&(r=!1);const s=i.feed(u);for(const[l,f]of s.entries()){const d=f===N;if(!(!d&&!f.length)){if(n&&d)return s.push(i.end()),[a.filter(c=>c.length).map(Mi).map(Di),_t(...s.slice(l+1).map(c=>c===N?Ne:c))];(n=d)?a.push([]):a[a.length-1].push(f)}}}}async function*Hi(e,t){const r=_t(Dn,Et(t)),n=new zi(r,e)[Symbol.asyncIterator]();for(;;){const i=await n.next();if(i.done)return;if(i.value===N)break}const a=new Sr(Ne);for(;;){let l=function(h){const p=[];for(const w of a.feed(h))s&&p.push(Ne),(s=w===N)||p.push(w);return _t(...p)};const[i,o]=await Ui(n,r);if(!i)return;async function u(){const h=await n.next();if(h.done)throw new Error("malformed multipart-form data: unexpected end of stream");return h}let s=!1,f=!1;async function d(){const h=await u();let p;if(h.value!==N)p=h.value;else if(!s)p=Ne;else return f=!0,{value:a.end()};return{value:l(p)}}const c=[{value:l(o)}];for(yield{...Li(i),data:{[Symbol.asyncIterator](){return this},async next(){for(;;){const h=c.shift();if(!h)break;if(h.value.length>0)return h}for(;;){if(f)return{done:f,value:void 0};const h=await d();if(h.value.length>0)return h}}}};!f;)c.push(await d())}}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ni(...e){return async t=>{for(let r of e){let n=await r(t);if(typeof n<"u"&&n!==null)return n}}}async function $i(e,t){let r=e.headers.get("Content-Type")||"",[n,a]=r.split(/\s*;\s*boundary=/);if(!e.body||!a||n!=="multipart/form-data")throw new TypeError("Could not parse content as FormData.");let i=new FormData,o=Hi(e.body,a);for await(let u of o){if(u.done)break;typeof u.filename=="string"&&(u.filename=u.filename.split(/[/\\]/).pop());let s=await t(u);typeof s<"u"&&s!==null&&i.append(u.name,s)}return i}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yi(e){return Object.keys(e).reduce((t,r)=>(t[r]=e[r].module,t),{})}var kt={exports:{}},Ee={decodeValues:!0,map:!1,silent:!1};function ir(e){return typeof e=="string"&&!!e.trim()}function or(e,t){var r=e.split(";").filter(ir),n=r.shift(),a=Qi(n),i=a.name,o=a.value;t=t?Object.assign({},Ee,t):Ee;try{o=t.decodeValues?decodeURIComponent(o):o}catch(s){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+o+"'. Set options.decodeValues to false to disable this feature.",s)}var u={name:i,value:o};return r.forEach(function(s){var l=s.split("="),f=l.shift().trimLeft().toLowerCase(),d=l.join("=");f==="expires"?u.expires=new Date(d):f==="max-age"?u.maxAge=parseInt(d,10):f==="secure"?u.secure=!0:f==="httponly"?u.httpOnly=!0:f==="samesite"?u.sameSite=d:u[f]=d}),u}function Qi(e){var t="",r="",n=e.split("=");return n.length>1?(t=n.shift(),r=n.join("=")):r=e,{name:t,value:r}}function Fn(e,t){if(t=t?Object.assign({},Ee,t):Ee,!e)return t.map?{}:[];if(e.headers)if(typeof e.headers.getSetCookie=="function")e=e.headers.getSetCookie();else if(e.headers["set-cookie"])e=e.headers["set-cookie"];else{var r=e.headers[Object.keys(e.headers).find(function(a){return a.toLowerCase()==="set-cookie"})];!r&&e.headers.cookie&&!t.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),e=r}if(Array.isArray(e)||(e=[e]),t=t?Object.assign({},Ee,t):Ee,t.map){var n={};return e.filter(ir).reduce(function(a,i){var o=or(i,t);return a[o.name]=o,a},n)}else return e.filter(ir).map(function(a){return or(a,t)})}function Vi(e){if(Array.isArray(e))return e;if(typeof e!="string")return[];var t=[],r=0,n,a,i,o,u;function s(){for(;r<e.length&&/\s/.test(e.charAt(r));)r+=1;return r<e.length}function l(){return a=e.charAt(r),a!=="="&&a!==";"&&a!==","}for(;r<e.length;){for(n=r,u=!1;s();)if(a=e.charAt(r),a===","){for(i=r,r+=1,s(),o=r;r<e.length&&l();)r+=1;r<e.length&&e.charAt(r)==="="?(u=!0,r=o,t.push(e.substring(n,i)),n=r):r=i+1}else r+=1;(!u||r>=e.length)&&t.push(e.substring(n,e.length))}return t}kt.exports=Fn;kt.exports.parse=Fn;kt.exports.parseString=or;var Gi=kt.exports.splitCookiesString=Vi;/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xi(e,t){let r=t.errors?t.matches.findIndex(i=>t.errors[i.route.id]):-1,n=r>=0?t.matches.slice(0,r+1):t.matches,a;if(r>=0){let{actionHeaders:i,actionData:o,loaderHeaders:u,loaderData:s}=t;t.matches.slice(r).some(l=>{let f=l.route.id;return i[f]&&(!o||o[f]===void 0)?a=i[f]:u[f]&&s[f]===void 0&&(a=u[f]),a!=null})}return n.reduce((i,o,u)=>{let{id:s}=o.route,l=e.routes[s].module,f=t.loaderHeaders[s]||new Headers,d=t.actionHeaders[s]||new Headers,c=a!=null&&u===n.length-1,h=c&&a!==f&&a!==d;if(l.headers==null){let w=new Headers(i);return h&&fe(a,w),fe(d,w),fe(f,w),w}let p=new Headers(l.headers?typeof l.headers=="function"?l.headers({loaderHeaders:f,parentHeaders:i,actionHeaders:d,errorHeaders:c?a:void 0}):l.headers:void 0);return h&&fe(a,p),fe(d,p),fe(f,p),fe(i,p),p},new Headers)}function fe(e,t){let r=e.get("Set-Cookie");r&&Gi(r).forEach(a=>{t.append("Set-Cookie",a)})}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ln(e,t){if(e===!1||e===null||typeof e>"u")throw console.error("The following error is a bug in Remix; please open an issue! https://github.com/remix-run/remix/issues/new"),new Error(t)}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ji(e,t,r){let n=mi(e,t,r);return n?n.map(a=>({params:a.params,pathname:a.pathname,route:a.route})):null}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */async function Ki({loadContext:e,action:t,params:r,request:n,routeId:a}){let i=await t({request:zn(In(n)),context:e,params:r});if(i===void 0)throw new Error(`You defined an action for route "${a}" but didn't return anything from your \`action\` function. Please return a value or \`null\`.`);return _e(i)?i:yr(i)}async function Zi({loadContext:e,loader:t,params:r,request:n,routeId:a}){let i=await t({request:zn(In(n)),context:e,params:r});if(i===void 0)throw new Error(`You defined a loader for route "${a}" but didn't return anything from your \`loader\` function. Please return a value or \`null\`.`);return ui(i)?i.init&&li(i.init.status||200)?Wn(new Headers(i.init.headers).get("Location"),i.init):i:_e(i)?i:yr(i)}function In(e){let t=new URL(e.url),r=t.searchParams.getAll("index");t.searchParams.delete("index");let n=[];for(let i of r)i&&n.push(i);for(let i of n)t.searchParams.append("index",i);let a={method:e.method,body:e.body,headers:e.headers,signal:e.signal};return a.body&&(a.duplex="half"),new Request(t.href,a)}function zn(e){let t=new URL(e.url);t.searchParams.delete("_data");let r={method:e.method,body:e.body,headers:e.headers,signal:e.signal};return r.body&&(r.duplex="half"),new Request(t.href,r)}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mn(e){let t={};return Object.values(e).forEach(r=>{let n=r.parentId||"";t[n]||(t[n]=[]),t[n].push(r)}),t}function xn(e,t="",r=Mn(e)){return(r[t]||[]).map(n=>({...n,children:xn(e,n.id,r)}))}function Ln(e,t,r="",n=Mn(e)){return(n[r]||[]).map(a=>{let i={hasErrorBoundary:a.id==="root"||a.module.ErrorBoundary!=null,id:a.id,path:a.path,loader:a.module.loader?o=>Zi({request:o.request,params:o.params,loadContext:o.context,loader:a.module.loader,routeId:a.id}):void 0,action:a.module.action?o=>Ki({request:o.request,params:o.params,loadContext:o.context,action:a.module.action,routeId:a.id}):void 0,handle:a.module.handle};return a.index?{index:!0,...i}:{caseSensitive:a.caseSensitive,children:Ln(e,t,a.id,n),...i}})}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const eo={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},to=/[&><\u2028\u2029]/g;function ro(e){return e.replace(to,t=>eo[t])}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sn(e){return ro(JSON.stringify(e))}var no={};/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */async function ao(e,t){if(t??(t=no.REMIX_DEV_ORIGIN),!t)throw Error("Dev server origin not set");let r=new URL(t);r.pathname="ping";let n=await fetch(r.href,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({buildHash:e.assets.version})}).catch(a=>{throw console.error(`Could not reach Remix dev server at ${r}`),a});if(!n.ok)throw console.error(`Could not reach Remix dev server at ${r} (${n.status})`),Error(await n.text())}function io(e){console.log(`[REMIX DEV] ${e.assets.version} ready`)}const Un="__remix_devServerHooks";function oo(e){globalThis[Un]=e}function fn(){return globalThis[Un]}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dn(e,t){var r,n;let a=xn(e.routes),i=Ln(e.routes,e.future),o=di(t)?t:$e.Production,u=_i(i,{basename:e.basename,future:{v7_relativeSplatPath:((r=e.future)===null||r===void 0?void 0:r.v3_relativeSplatPath)===!0,v7_throwAbortReason:((n=e.future)===null||n===void 0?void 0:n.v3_throwAbortReason)===!0}}),s=e.entry.module.handleError||((l,{request:f})=>{o!==$e.Test&&!f.signal.aborted&&console.error(Tt(l)&&l.error?l.error:l)});return{routes:a,dataRoutes:i,serverMode:o,staticHandler:u,errorHandler:s}}const uo=(e,t)=>{let r,n,a,i,o;return async function(s,l={}){if(r=typeof e=="function"?await e():e,t??(t=r.mode),typeof e=="function"){let _=dn(r,t);n=_.routes,a=_.serverMode,i=_.staticHandler,o=_.errorHandler}else if(!n||!a||!i||!o){let _=dn(r,t);n=_.routes,a=_.serverMode,i=_.staticHandler,o=_.errorHandler}let f=new URL(s.url),d=Ji(n,f.pathname,r.basename),c=_=>{if(t===$e.Development){var A,O;(A=fn())===null||A===void 0||(O=A.processRequestError)===null||O===void 0||O.call(A,_)}o(_,{context:l,params:d&&d.length>0?d[0].params:{},request:s})},h;if(f.searchParams.has("_data")){let _=f.searchParams.get("_data");if(h=await lo(a,r,i,_,s,l,c),r.entry.module.handleDataRequest){var p;h=await r.entry.module.handleDataRequest(h,{context:l,params:(d==null||(p=d.find(A=>A.route.id==_))===null||p===void 0?void 0:p.params)||{},request:s})}}else if(d&&d[d.length-1].route.module.default==null&&d[d.length-1].route.module.ErrorBoundary==null)h=await fo(a,i,d.slice(-1)[0].route.id,s,l,c);else{var w,k;let _=t===$e.Development?await((w=fn())===null||w===void 0||(k=w.getCriticalCss)===null||k===void 0?void 0:k.call(w,r,f.pathname)):void 0;h=await so(a,r,i,s,l,c,_)}return s.method==="HEAD"?new Response(null,{headers:h.headers,status:h.status,statusText:h.statusText}):h}};async function lo(e,t,r,n,a,i,o){try{let u=await r.queryRoute(a,{routeId:n,requestContext:i});if(si(u)){let s=new Headers(u.headers),l=s.get("Location");return s.set("X-Remix-Redirect",t.basename&&bi(l,t.basename)||l),s.set("X-Remix-Status",u.status),s.delete("Location"),u.headers.get("Set-Cookie")!==null&&s.set("X-Remix-Revalidate","yes"),new Response(null,{status:204,headers:s})}if(ar in u){let s=u[ar],l=fi(s,a.signal,e),f=s.init||{},d=new Headers(f.headers);return d.set("Content-Type","text/remix-deferred"),d.set("X-Remix-Response","yes"),f.headers=d,new Response(l,f)}return u.headers.set("X-Remix-Response","yes"),u}catch(u){if(_e(u))return u.headers.set("X-Remix-Catch","yes"),u;if(Tt(u))return u&&o(u),Hn(u,e);let s=u instanceof Error||u instanceof DOMException?u:new Error("Unexpected Server Error");return o(s),jn(_r(s,e),{status:500,headers:{"X-Remix-Error":"yes"}})}}async function so(e,t,r,n,a,i,o){let u;try{u=await r.query(n,{requestContext:a})}catch(d){return i(d),new Response(null,{status:500})}if(_e(u))return u;u.errors&&(Object.values(u.errors).forEach(d=>{(!Tt(d)||d.error)&&i(d)}),u.errors=tn(u.errors,e));let s=Xi(t,u),l={manifest:t.assets,routeModules:Yi(t.routes),staticHandlerContext:u,criticalCss:o,serverHandoffString:sn({url:u.location.pathname,basename:t.basename,criticalCss:o,state:{loaderData:u.loaderData,actionData:u.actionData,errors:rn(u.errors,e)},future:t.future,isSpaMode:t.isSpaMode}),future:t.future,isSpaMode:t.isSpaMode,serializeError:d=>_r(d,e)},f=t.entry.module.default;try{return await f(n,u.statusCode,s,l,a)}catch(d){i(d);let c=d;if(_e(d)){let h;try{let p=d.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?d.body==null?h=null:h=await d.json():h=await d.text(),c=new pi(d.status,d.statusText,h)}catch{}}u=yi(r.dataRoutes,u,c),u.errors&&(u.errors=tn(u.errors,e)),l={...l,staticHandlerContext:u,serverHandoffString:sn({url:u.location.pathname,basename:t.basename,state:{loaderData:u.loaderData,actionData:u.actionData,errors:rn(u.errors,e)},future:t.future,isSpaMode:t.isSpaMode})};try{return await f(n,u.statusCode,s,l,a)}catch(h){return i(h),Nn(h,e)}}}async function fo(e,t,r,n,a,i){try{let o=await t.queryRoute(n,{routeId:r,requestContext:a});return ln(!(ar in o),`You cannot return a \`defer()\` response from a Resource Route.  Did you forget to export a default UI component from the "${r}" route?`),ln(_e(o),"Expected a Response to be returned from queryRoute"),o}catch(o){return _e(o)?(o.headers.set("X-Remix-Catch","yes"),o):Tt(o)?(o&&i(o),Hn(o,e)):(i(o),Nn(o,e))}}function Hn(e,t){return jn(_r(e.error||new Error("Unexpected Server Error"),t),{status:e.status,statusText:e.statusText,headers:{"X-Remix-Error":"yes"}})}function Nn(e,t){let r="Unexpected Server Error";return t!==$e.Production&&(r+=`

${String(e)}`),new Response(r,{status:500,headers:{"Content-Type":"text/plain"}})}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qt(e){return`__flash_${e}__`}const gr=(e={},t="")=>{let r=new Map(Object.entries(e));return{get id(){return t},get data(){return Object.fromEntries(r)},has(n){return r.has(n)||r.has(Qt(n))},get(n){if(r.has(n))return r.get(n);let a=Qt(n);if(r.has(a)){let i=r.get(a);return r.delete(a),i}},set(n,a){r.set(n,a)},flash(n,a){r.set(Qt(n),a)},unset(n){r.delete(n)}}},co=e=>e!=null&&typeof e.id=="string"&&typeof e.data<"u"&&typeof e.has=="function"&&typeof e.get=="function"&&typeof e.set=="function"&&typeof e.flash=="function"&&typeof e.unset=="function",ho=e=>({cookie:t,createData:r,readData:n,updateData:a,deleteData:i})=>{let o=vr(t)?t:e((t==null?void 0:t.name)||"__session",t);return $n(o),{async getSession(u,s){let l=u&&await o.parse(u,s),f=l&&await n(l);return gr(f||{},l||"")},async commitSession(u,s){let{id:l,data:f}=u,d=(s==null?void 0:s.maxAge)!=null?new Date(Date.now()+s.maxAge*1e3):(s==null?void 0:s.expires)!=null?s.expires:o.expires;return l?await a(l,f,d):l=await r(f,d),o.serialize(l,s)},async destroySession(u,s){return await i(u.id),o.serialize("",{...s,maxAge:void 0,expires:new Date(0)})}}};function $n(e){Bn(e.isSigned,`The "${e.name}" cookie is not signed, but session cookies should be signed to prevent tampering on the client before they are sent back to the server. See https://remix.run/utils/cookies#signing-cookies for more information.`)}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const mo=e=>({cookie:t}={})=>{let r=vr(t)?t:e((t==null?void 0:t.name)||"__session",t);return $n(r),{async getSession(n,a){return gr(n&&await r.parse(n,a)||{})},async commitSession(n,a){let i=await r.serialize(n.data,a);if(i.length>4096)throw new Error("Cookie length will exceed browser maximum. Length: "+i.length);return i},async destroySession(n,a){return r.serialize("",{...a,maxAge:void 0,expires:new Date(0)})}}};/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const bo=e=>({cookie:t}={})=>{let r=new Map;return e({cookie:t,async createData(n,a){let i=Math.random().toString(36).substring(2,10);return r.set(i,{data:n,expires:a}),i},async readData(n){if(r.has(n)){let{data:a,expires:i}=r.get(n);if(!i||i>new Date)return a;i&&r.delete(n)}return null},async updateData(n,a,i){r.set(n,{data:a,expires:i})},async deleteData(n){r.delete(n)}})};/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */class Yn extends Error{constructor(t,r){super(`Field "${t}" exceeded upload size of ${r} bytes.`),this.field=t,this.maxBytes=r}}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function po({filter:e,maxPartSize:t=3e6}={}){return async({filename:r,contentType:n,name:a,data:i})=>{if(e&&!await e({filename:r,contentType:n,name:a}))return;let o=0,u=[];for await(let s of i){if(o+=s.byteLength,o>t)throw new Yn(a,t);u.push(s)}return typeof r=="string"?new File(u,r,{type:n}):await new Blob(u,{type:n}).text()}}/**
 * @remix-run/server-runtime v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const yo=Object.freeze(Object.defineProperty({__proto__:null,MaxPartSizeExceededError:Yn,broadcastDevReady:ao,createCookieFactory:ki,createCookieSessionStorageFactory:mo,createMemorySessionStorageFactory:bo,createRequestHandler:uo,createSession:gr,createSessionStorageFactory:ho,defer:ci,isCookie:vr,isSession:co,json:yr,logDevReady:io,redirect:Wn,redirectDocument:hi,unstable_composeUploadHandlers:Ni,unstable_createMemoryUploadHandler:po,unstable_parseMultipartFormData:$i,unstable_setDevServerHooks:oo},Symbol.toStringTag,{value:"Module"}));var _o={},wr={},ur={exports:{}},Qn={},Rr={};Rr.TextEncoder=typeof TextEncoder<"u"?TextEncoder:pr.TextEncoder;Rr.TextDecoder=typeof TextDecoder<"u"?TextDecoder:pr.TextDecoder;/**
 * @license
 * web-streams-polyfill v3.3.3
 * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
 * This code is released under the MIT license.
 * SPDX-License-Identifier: MIT
 */var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:function(e){return"Symbol(".concat(e,")")};function vo(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(l){return function(f){return s([l,f])}}function s(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,a&&(i=l[0]&2?a.return:l[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,l[1])).done)return i;switch(a=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,a=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){r.label=l[1];break}if(l[0]===6&&r.label<i[1]){r.label=i[1],i=l;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(l);break}i[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(f){l=[6,f],a=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function lr(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function qe(e){return this instanceof qe?(this.v=e,this):new qe(e)}function So(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a;function o(c){n[c]&&(a[c]=function(h){return new Promise(function(p,w){i.push([c,h,p,w])>1||u(c,h)})})}function u(c,h){try{s(n[c](h))}catch(p){d(i[0][3],p)}}function s(c){c.value instanceof qe?Promise.resolve(c.value.v).then(l,f):d(i[0][2],c)}function l(c){u("next",c)}function f(c){u("throw",c)}function d(c,h){c(h),i.shift(),i.length&&u(i[0][0],i[0][1])}}function go(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:qe(e[a](o)),done:!1}:i?i(o):o}:i}}function wo(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof lr=="function"?lr(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(u,s){o=e[i](o),a(u,s,o.done,o.value)})}}function a(i,o,u,s){Promise.resolve(s).then(function(l){i({value:l,done:u})},o)}}function Ke(){}function T(e){return typeof e=="object"&&e!==null||typeof e=="function"}var Vn=Ke;function S(e,t){try{Object.defineProperty(e,"name",{value:t,configurable:!0})}catch{}}var Gn=Promise,Ro=Promise.prototype.then,Co=Promise.reject.bind(Gn);function P(e){return new Gn(e)}function v(e){return P(function(t){return t(e)})}function m(e){return Co(e)}function $(e,t,r){return Ro.call(e,t,r)}function W(e,t,r){$($(e,t,r),void 0,Vn)}function Vt(e,t){W(e,t)}function Cr(e,t){W(e,void 0,t)}function V(e,t,r){return $(e,t,r)}function Ie(e){$(e,void 0,Vn)}var ye=function(e){if(typeof queueMicrotask=="function")ye=queueMicrotask;else{var t=v(void 0);ye=function(r){return $(t,r)}}return ye(e)};function Se(e,t,r){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function ae(e,t,r){try{return v(Se(e,t,r))}catch(n){return m(n)}}var cn=16384,F=function(){function e(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.push=function(t){var r=this._back,n=r;r._elements.length===cn-1&&(n={_elements:[],_next:void 0}),r._elements.push(t),n!==r&&(this._back=n,r._next=n),++this._size},e.prototype.shift=function(){var t=this._front,r=t,n=this._cursor,a=n+1,i=t._elements,o=i[n];return a===cn&&(r=t._next,a=0),--this._size,this._cursor=a,t!==r&&(this._front=r),i[n]=void 0,o},e.prototype.forEach=function(t){for(var r=this._cursor,n=this._front,a=n._elements;(r!==a.length||n._next!==void 0)&&!(r===a.length&&(n=n._next,a=n._elements,r=0,a.length===0));)t(a[r]),++r},e.prototype.peek=function(){var t=this._front,r=this._cursor;return t._elements[r]},e}(),Xn=y("[[AbortSteps]]"),Jn=y("[[ErrorSteps]]"),Pr=y("[[CancelSteps]]"),Tr=y("[[PullSteps]]"),Er=y("[[ReleaseSteps]]");function Kn(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?Ar(e):t._state==="closed"?Po(e):Zn(e,t._storedError)}function kr(e,t){var r=e._ownerReadableStream;return z(r,t)}function Y(e){var t=e._ownerReadableStream;t._state==="readable"?Or(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):To(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),t._readableStreamController[Er](),t._reader=void 0,e._ownerReadableStream=void 0}function vt(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Ar(e){e._closedPromise=P(function(t,r){e._closedPromise_resolve=t,e._closedPromise_reject=r})}function Zn(e,t){Ar(e),Or(e,t)}function Po(e){Ar(e),ea(e)}function Or(e,t){e._closedPromise_reject!==void 0&&(Ie(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function To(e,t){Zn(e,t)}function ea(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}var hn=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},Eo=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function ko(e){return typeof e=="object"||typeof e=="function"}function U(e,t){if(e!==void 0&&!ko(e))throw new TypeError("".concat(t," is not an object."))}function I(e,t){if(typeof e!="function")throw new TypeError("".concat(t," is not a function."))}function Ao(e){return typeof e=="object"&&e!==null||typeof e=="function"}function ta(e,t){if(!Ao(e))throw new TypeError("".concat(t," is not an object."))}function G(e,t,r){if(e===void 0)throw new TypeError("Parameter ".concat(t," is required in '").concat(r,"'."))}function sr(e,t,r){if(e===void 0)throw new TypeError("".concat(t," is required in '").concat(r,"'."))}function qr(e){return Number(e)}function ra(e){return e===0?0:e}function Oo(e){return ra(Eo(e))}function Wr(e,t){var r=0,n=Number.MAX_SAFE_INTEGER,a=Number(e);if(a=ra(a),!hn(a))throw new TypeError("".concat(t," is not a finite number"));if(a=Oo(a),a<r||a>n)throw new TypeError("".concat(t," is outside the accepted range of ").concat(r," to ").concat(n,", inclusive"));return!hn(a)||a===0?0:a}function jr(e,t){if(!ee(e))throw new TypeError("".concat(t," is not a ReadableStream."))}function We(e){return new ie(e)}function na(e,t){e._reader._readRequests.push(t)}function Br(e,t,r){var n=e._reader,a=n._readRequests.shift();r?a._closeSteps():a._chunkSteps(t)}function At(e){return e._reader._readRequests.length}function aa(e){var t=e._reader;return!(t===void 0||!te(t))}var ie=function(){function e(t){if(G(t,1,"ReadableStreamDefaultReader"),jr(t,"First parameter"),re(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Kn(this,t),this._readRequests=new F}return Object.defineProperty(e.prototype,"closed",{get:function(){return te(this)?this._closedPromise:m(at("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(t){return t===void 0&&(t=void 0),te(this)?this._ownerReadableStream===void 0?m(vt("cancel")):kr(this,t):m(at("cancel"))},e.prototype.read=function(){if(!te(this))return m(at("read"));if(this._ownerReadableStream===void 0)return m(vt("read from"));var t,r,n=P(function(i,o){t=i,r=o}),a={_chunkSteps:function(i){return t({value:i,done:!1})},_closeSteps:function(){return t({value:void 0,done:!0})},_errorSteps:function(i){return r(i)}};return Ze(this,a),n},e.prototype.releaseLock=function(){if(!te(this))throw at("releaseLock");this._ownerReadableStream!==void 0&&qo(this)},e}();Object.defineProperties(ie.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}});S(ie.prototype.cancel,"cancel");S(ie.prototype.read,"read");S(ie.prototype.releaseLock,"releaseLock");typeof y.toStringTag=="symbol"&&Object.defineProperty(ie.prototype,y.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function te(e){return!T(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof ie}function Ze(e,t){var r=e._ownerReadableStream;r._disturbed=!0,r._state==="closed"?t._closeSteps():r._state==="errored"?t._errorSteps(r._storedError):r._readableStreamController[Tr](t)}function qo(e){Y(e);var t=new TypeError("Reader was released");ia(e,t)}function ia(e,t){var r=e._readRequests;e._readRequests=new F,r.forEach(function(n){n._errorSteps(t)})}function at(e){return new TypeError("ReadableStreamDefaultReader.prototype.".concat(e," can only be used on a ReadableStreamDefaultReader"))}var Gt,Xt,Jt;function Ye(e){return e.slice()}function oa(e,t,r,n,a){new Uint8Array(e).set(new Uint8Array(r,n,a),t)}var Q=function(e){return typeof e.transfer=="function"?Q=function(t){return t.transfer()}:typeof structuredClone=="function"?Q=function(t){return structuredClone(t,{transfer:[t]})}:Q=function(t){return t},Q(e)},ne=function(e){return typeof e.detached=="boolean"?ne=function(t){return t.detached}:ne=function(t){return t.byteLength===0},ne(e)};function ua(e,t,r){if(e.slice)return e.slice(t,r);var n=r-t,a=new ArrayBuffer(n);return oa(a,0,e,t,n),a}function ct(e,t){var r=e[t];if(r!=null){if(typeof r!="function")throw new TypeError("".concat(String(t)," is not a function"));return r}}function Wo(e){var t,r=(t={},t[y.iterator]=function(){return e.iterator},t),n=function(){return So(this,arguments,function(){return vo(this,function(i){switch(i.label){case 0:return[5,lr(go(wo(r)))];case 1:return[4,qe.apply(void 0,[i.sent()])];case 2:return[4,qe.apply(void 0,[i.sent()])];case 3:return[2,i.sent()]}})})}(),a=n.next;return{iterator:n,nextMethod:a,done:!1}}var et=(Jt=(Gt=y.asyncIterator)!==null&&Gt!==void 0?Gt:(Xt=y.for)===null||Xt===void 0?void 0:Xt.call(y,"Symbol.asyncIterator"))!==null&&Jt!==void 0?Jt:"@@asyncIterator";function la(e,t,r){if(t===void 0&&(t="sync"),r===void 0)if(t==="async"){if(r=ct(e,et),r===void 0){var n=ct(e,y.iterator),a=la(e,"sync",n);return Wo(a)}}else r=ct(e,y.iterator);if(r===void 0)throw new TypeError("The object is not iterable");var i=Se(r,e,[]);if(!T(i))throw new TypeError("The iterator method must return an object");var o=i.next;return{iterator:i,nextMethod:o,done:!1}}function jo(e){var t=Se(e.nextMethod,e.iterator,[]);if(!T(t))throw new TypeError("The iterator.next() method must return an object");return t}function Bo(e){return!!e.done}function Do(e){return e.value}var Kt,sa=(Kt={},Kt[et]=function(){return this},Kt);Object.defineProperty(sa,et,{enumerable:!1});var fa=function(){function e(t,r){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=r}return e.prototype.next=function(){var t=this,r=function(){return t._nextSteps()};return this._ongoingPromise=this._ongoingPromise?V(this._ongoingPromise,r,r):r(),this._ongoingPromise},e.prototype.return=function(t){var r=this,n=function(){return r._returnSteps(t)};return this._ongoingPromise?V(this._ongoingPromise,n,n):n()},e.prototype._nextSteps=function(){var t=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var r=this._reader,n,a,i=P(function(u,s){n=u,a=s}),o={_chunkSteps:function(u){t._ongoingPromise=void 0,ye(function(){return n({value:u,done:!1})})},_closeSteps:function(){t._ongoingPromise=void 0,t._isFinished=!0,Y(r),n({value:void 0,done:!0})},_errorSteps:function(u){t._ongoingPromise=void 0,t._isFinished=!0,Y(r),a(u)}};return Ze(r,o),i},e.prototype._returnSteps=function(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;var r=this._reader;if(!this._preventCancel){var n=kr(r,t);return Y(r),V(n,function(){return{value:t,done:!0}})}return Y(r),v({value:t,done:!0})},e}(),da={next:function(){return mn(this)?this._asyncIteratorImpl.next():m(bn("next"))},return:function(e){return mn(this)?this._asyncIteratorImpl.return(e):m(bn("return"))}};Object.setPrototypeOf(da,sa);function Fo(e,t){var r=We(e),n=new fa(r,t),a=Object.create(da);return a._asyncIteratorImpl=n,a}function mn(e){if(!T(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof fa}catch{return!1}}function bn(e){return new TypeError("ReadableStreamAsyncIterator.".concat(e," can only be used on a ReadableSteamAsyncIterator"))}var ca=Number.isNaN||function(e){return e!==e};function Io(e){return!(typeof e!="number"||ca(e)||e<0)}function pn(e){var t=ua(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function Dr(e){var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function Fr(e,t,r){if(!Io(r)||r===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function zo(e){var t=e._queue.peek();return t.value}function oe(e){e._queue=new F,e._queueTotalSize=0}function ha(e){return e===DataView}function Mo(e){return ha(e.constructor)}function xo(e){return ha(e)?1:e.BYTES_PER_ELEMENT}var ge=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"view",{get:function(){if(!Zt(this))throw er("view");return this._view},enumerable:!1,configurable:!0}),e.prototype.respond=function(t){if(!Zt(this))throw er("respond");if(G(t,1,"respond"),t=Wr(t,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(ne(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");bt(this._associatedReadableByteStreamController,t)},e.prototype.respondWithNewView=function(t){if(!Zt(this))throw er("respondWithNewView");if(G(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(ne(t.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");pt(this._associatedReadableByteStreamController,t)},e}();Object.defineProperties(ge.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}});S(ge.prototype.respond,"respond");S(ge.prototype.respondWithNewView,"respondWithNewView");typeof y.toStringTag=="symbol"&&Object.defineProperty(ge.prototype,y.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var X=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"byobRequest",{get:function(){if(!be(this))throw xe("byobRequest");return dr(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!be(this))throw xe("desiredSize");return Ra(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!be(this))throw xe("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError("The stream (in ".concat(t," state) is not in the readable state and cannot be closed"));Le(this)},e.prototype.enqueue=function(t){if(!be(this))throw xe("enqueue");if(G(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var r=this._controlledReadableByteStream._state;if(r!=="readable")throw new TypeError("The stream (in ".concat(r," state) is not in the readable state and cannot be enqueued to"));mt(this,t)},e.prototype.error=function(t){if(t===void 0&&(t=void 0),!be(this))throw xe("error");D(this,t)},e.prototype[Pr]=function(t){ma(this),oe(this);var r=this._cancelAlgorithm(t);return Ot(this),r},e.prototype[Tr]=function(t){var r=this._controlledReadableByteStream;if(this._queueTotalSize>0){wa(this,t);return}var n=this._autoAllocateChunkSize;if(n!==void 0){var a=void 0;try{a=new ArrayBuffer(n)}catch(o){t._errorSteps(o);return}var i={buffer:a,bufferByteLength:n,byteOffset:0,byteLength:n,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}na(r,t),we(this)},e.prototype[Er]=function(){if(this._pendingPullIntos.length>0){var t=this._pendingPullIntos.peek();t.readerType="none",this._pendingPullIntos=new F,this._pendingPullIntos.push(t)}},e}();Object.defineProperties(X.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}});S(X.prototype.close,"close");S(X.prototype.enqueue,"enqueue");S(X.prototype.error,"error");typeof y.toStringTag=="symbol"&&Object.defineProperty(X.prototype,y.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function be(e){return!T(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof X}function Zt(e){return!T(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof ge}function we(e){var t=$o(e);if(t){if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;var r=e._pullAlgorithm();W(r,function(){return e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,we(e)),null},function(n){return D(e,n),null})}}function ma(e){zr(e),e._pendingPullIntos=new F}function Ir(e,t){var r=!1;e._state==="closed"&&(r=!0);var n=ba(t);t.readerType==="default"?Br(e,n,r):Jo(e,n,r)}function ba(e){var t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function ht(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function pa(e,t,r,n){var a;try{a=ua(t,r,r+n)}catch(i){throw D(e,i),i}ht(e,a,0,n)}function ya(e,t){t.bytesFilled>0&&pa(e,t.buffer,t.byteOffset,t.bytesFilled),je(e)}function _a(e,t){var r=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),n=t.bytesFilled+r,a=r,i=!1,o=n%t.elementSize,u=n-o;u>=t.minimumFill&&(a=u-t.bytesFilled,i=!0);for(var s=e._queue;a>0;){var l=s.peek(),f=Math.min(a,l.byteLength),d=t.byteOffset+t.bytesFilled;oa(t.buffer,d,l.buffer,l.byteOffset,f),l.byteLength===f?s.shift():(l.byteOffset+=f,l.byteLength-=f),e._queueTotalSize-=f,va(e,f,t),a-=f}return i}function va(e,t,r){r.bytesFilled+=t}function Sa(e){e._queueTotalSize===0&&e._closeRequested?(Ot(e),tt(e._controlledReadableByteStream)):we(e)}function zr(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function fr(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;var t=e._pendingPullIntos.peek();_a(e,t)&&(je(e),Ir(e._controlledReadableByteStream,t))}}function Lo(e){for(var t=e._controlledReadableByteStream._reader;t._readRequests.length>0;){if(e._queueTotalSize===0)return;var r=t._readRequests.shift();wa(e,r)}}function Uo(e,t,r,n){var a=e._controlledReadableByteStream,i=t.constructor,o=xo(i),u=t.byteOffset,s=t.byteLength,l=r*o,f;try{f=Q(t.buffer)}catch(w){n._errorSteps(w);return}var d={buffer:f,bufferByteLength:f.byteLength,byteOffset:u,byteLength:s,bytesFilled:0,minimumFill:l,elementSize:o,viewConstructor:i,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(d),yn(a,n);return}if(a._state==="closed"){var c=new i(d.buffer,d.byteOffset,0);n._closeSteps(c);return}if(e._queueTotalSize>0){if(_a(e,d)){var h=ba(d);Sa(e),n._chunkSteps(h);return}if(e._closeRequested){var p=new TypeError("Insufficient bytes to fill elements in the given buffer");D(e,p),n._errorSteps(p);return}}e._pendingPullIntos.push(d),yn(a,n),we(e)}function Ho(e,t){t.readerType==="none"&&je(e);var r=e._controlledReadableByteStream;if(Mr(r))for(;Ta(r)>0;){var n=je(e);Ir(r,n)}}function No(e,t,r){if(va(e,t,r),r.readerType==="none"){ya(e,r),fr(e);return}if(!(r.bytesFilled<r.minimumFill)){je(e);var n=r.bytesFilled%r.elementSize;if(n>0){var a=r.byteOffset+r.bytesFilled;pa(e,r.buffer,a-n,n)}r.bytesFilled-=n,Ir(e._controlledReadableByteStream,r),fr(e)}}function ga(e,t){var r=e._pendingPullIntos.peek();zr(e);var n=e._controlledReadableByteStream._state;n==="closed"?Ho(e,r):No(e,t,r),we(e)}function je(e){var t=e._pendingPullIntos.shift();return t}function $o(e){var t=e._controlledReadableByteStream;if(t._state!=="readable"||e._closeRequested||!e._started)return!1;if(aa(t)&&At(t)>0||Mr(t)&&Ta(t)>0)return!0;var r=Ra(e);return r>0}function Ot(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Le(e){var t=e._controlledReadableByteStream;if(!(e._closeRequested||t._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0){var r=e._pendingPullIntos.peek();if(r.bytesFilled%r.elementSize!==0){var n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw D(e,n),n}}Ot(e),tt(t)}}function mt(e,t){var r=e._controlledReadableByteStream;if(!(e._closeRequested||r._state!=="readable")){var n=t.buffer,a=t.byteOffset,i=t.byteLength;if(ne(n))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");var o=Q(n);if(e._pendingPullIntos.length>0){var u=e._pendingPullIntos.peek();if(ne(u.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");zr(e),u.buffer=Q(u.buffer),u.readerType==="none"&&ya(e,u)}if(aa(r))if(Lo(e),At(r)===0)ht(e,o,a,i);else{e._pendingPullIntos.length>0&&je(e);var s=new Uint8Array(o,a,i);Br(r,s,!1)}else Mr(r)?(ht(e,o,a,i),fr(e)):ht(e,o,a,i);we(e)}}function D(e,t){var r=e._controlledReadableByteStream;r._state==="readable"&&(ma(e),oe(e),Ot(e),Ya(r,t))}function wa(e,t){var r=e._queue.shift();e._queueTotalSize-=r.byteLength,Sa(e);var n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);t._chunkSteps(n)}function dr(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){var t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(ge.prototype);Qo(n,e,r),e._byobRequest=n}return e._byobRequest}function Ra(e){var t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function bt(e,t){var r=e._pendingPullIntos.peek(),n=e._controlledReadableByteStream._state;if(n==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(t===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range")}r.buffer=Q(r.buffer),ga(e,t)}function pt(e,t){var r=e._pendingPullIntos.peek(),n=e._controlledReadableByteStream._state;if(n==="closed"){if(t.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(t.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var a=t.byteLength;r.buffer=Q(t.buffer),ga(e,a)}function Ca(e,t,r,n,a,i,o){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,oe(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=i,t._pullAlgorithm=n,t._cancelAlgorithm=a,t._autoAllocateChunkSize=o,t._pendingPullIntos=new F,e._readableStreamController=t;var u=r();W(v(u),function(){return t._started=!0,we(t),null},function(s){return D(t,s),null})}function Yo(e,t,r){var n=Object.create(X.prototype),a,i,o;t.start!==void 0?a=function(){return t.start(n)}:a=function(){},t.pull!==void 0?i=function(){return t.pull(n)}:i=function(){return v(void 0)},t.cancel!==void 0?o=function(s){return t.cancel(s)}:o=function(){return v(void 0)};var u=t.autoAllocateChunkSize;if(u===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Ca(e,n,a,i,o,r,u)}function Qo(e,t,r){e._associatedReadableByteStreamController=t,e._view=r}function er(e){return new TypeError("ReadableStreamBYOBRequest.prototype.".concat(e," can only be used on a ReadableStreamBYOBRequest"))}function xe(e){return new TypeError("ReadableByteStreamController.prototype.".concat(e," can only be used on a ReadableByteStreamController"))}function Vo(e,t){U(e,t);var r=e==null?void 0:e.mode;return{mode:r===void 0?void 0:Go(r,"".concat(t," has member 'mode' that"))}}function Go(e,t){if(e="".concat(e),e!=="byob")throw new TypeError("".concat(t," '").concat(e,"' is not a valid enumeration value for ReadableStreamReaderMode"));return e}function Xo(e,t){var r;U(e,t);var n=(r=e==null?void 0:e.min)!==null&&r!==void 0?r:1;return{min:Wr(n,"".concat(t," has member 'min' that"))}}function Pa(e){return new ue(e)}function yn(e,t){e._reader._readIntoRequests.push(t)}function Jo(e,t,r){var n=e._reader,a=n._readIntoRequests.shift();r?a._closeSteps(t):a._chunkSteps(t)}function Ta(e){return e._reader._readIntoRequests.length}function Mr(e){var t=e._reader;return!(t===void 0||!pe(t))}var ue=function(){function e(t){if(G(t,1,"ReadableStreamBYOBReader"),jr(t,"First parameter"),re(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!be(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Kn(this,t),this._readIntoRequests=new F}return Object.defineProperty(e.prototype,"closed",{get:function(){return pe(this)?this._closedPromise:m(it("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(t){return t===void 0&&(t=void 0),pe(this)?this._ownerReadableStream===void 0?m(vt("cancel")):kr(this,t):m(it("cancel"))},e.prototype.read=function(t,r){if(r===void 0&&(r={}),!pe(this))return m(it("read"));if(!ArrayBuffer.isView(t))return m(new TypeError("view must be an array buffer view"));if(t.byteLength===0)return m(new TypeError("view must have non-zero byteLength"));if(t.buffer.byteLength===0)return m(new TypeError("view's buffer must have non-zero byteLength"));if(ne(t.buffer))return m(new TypeError("view's buffer has been detached"));var n;try{n=Xo(r,"options")}catch(l){return m(l)}var a=n.min;if(a===0)return m(new TypeError("options.min must be greater than 0"));if(Mo(t)){if(a>t.byteLength)return m(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(a>t.length)return m(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return m(vt("read from"));var i,o,u=P(function(l,f){i=l,o=f}),s={_chunkSteps:function(l){return i({value:l,done:!1})},_closeSteps:function(l){return i({value:l,done:!0})},_errorSteps:function(l){return o(l)}};return Ea(this,t,a,s),u},e.prototype.releaseLock=function(){if(!pe(this))throw it("releaseLock");this._ownerReadableStream!==void 0&&Ko(this)},e}();Object.defineProperties(ue.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}});S(ue.prototype.cancel,"cancel");S(ue.prototype.read,"read");S(ue.prototype.releaseLock,"releaseLock");typeof y.toStringTag=="symbol"&&Object.defineProperty(ue.prototype,y.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function pe(e){return!T(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof ue}function Ea(e,t,r,n){var a=e._ownerReadableStream;a._disturbed=!0,a._state==="errored"?n._errorSteps(a._storedError):Uo(a._readableStreamController,t,r,n)}function Ko(e){Y(e);var t=new TypeError("Reader was released");ka(e,t)}function ka(e,t){var r=e._readIntoRequests;e._readIntoRequests=new F,r.forEach(function(n){n._errorSteps(t)})}function it(e){return new TypeError("ReadableStreamBYOBReader.prototype.".concat(e," can only be used on a ReadableStreamBYOBReader"))}function Qe(e,t){var r=e.highWaterMark;if(r===void 0)return t;if(ca(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function St(e){var t=e.size;return t||function(){return 1}}function gt(e,t){U(e,t);var r=e==null?void 0:e.highWaterMark,n=e==null?void 0:e.size;return{highWaterMark:r===void 0?void 0:qr(r),size:n===void 0?void 0:Zo(n,"".concat(t," has member 'size' that"))}}function Zo(e,t){return I(e,t),function(r){return qr(e(r))}}function eu(e,t){U(e,t);var r=e==null?void 0:e.abort,n=e==null?void 0:e.close,a=e==null?void 0:e.start,i=e==null?void 0:e.type,o=e==null?void 0:e.write;return{abort:r===void 0?void 0:tu(r,e,"".concat(t," has member 'abort' that")),close:n===void 0?void 0:ru(n,e,"".concat(t," has member 'close' that")),start:a===void 0?void 0:nu(a,e,"".concat(t," has member 'start' that")),write:o===void 0?void 0:au(o,e,"".concat(t," has member 'write' that")),type:i}}function tu(e,t,r){return I(e,r),function(n){return ae(e,t,[n])}}function ru(e,t,r){return I(e,r),function(){return ae(e,t,[])}}function nu(e,t,r){return I(e,r),function(n){return Se(e,t,[n])}}function au(e,t,r){return I(e,r),function(n,a){return ae(e,t,[n,a])}}function Aa(e,t){if(!ke(e))throw new TypeError("".concat(t," is not a WritableStream."))}function iu(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}var ou=typeof AbortController=="function";function uu(){if(ou)return new AbortController}var le=function(){function e(t,r){t===void 0&&(t={}),r===void 0&&(r={}),t===void 0?t=null:ta(t,"First parameter");var n=gt(r,"Second parameter"),a=eu(t,"First parameter");qa(this);var i=a.type;if(i!==void 0)throw new RangeError("Invalid type is specified");var o=St(n),u=Qe(n,1);gu(this,a,u,o)}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!ke(this))throw ut("locked");return Ae(this)},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){return t===void 0&&(t=void 0),ke(this)?Ae(this)?m(new TypeError("Cannot abort a stream that already has a writer")):wt(this,t):m(ut("abort"))},e.prototype.close=function(){return ke(this)?Ae(this)?m(new TypeError("Cannot close a stream that already has a writer")):L(this)?m(new TypeError("Cannot close an already-closing stream")):Wa(this):m(ut("close"))},e.prototype.getWriter=function(){if(!ke(this))throw ut("getWriter");return Oa(this)},e}();Object.defineProperties(le.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}});S(le.prototype.abort,"abort");S(le.prototype.close,"close");S(le.prototype.getWriter,"getWriter");typeof y.toStringTag=="symbol"&&Object.defineProperty(le.prototype,y.toStringTag,{value:"WritableStream",configurable:!0});function Oa(e){return new J(e)}function lu(e,t,r,n,a,i){a===void 0&&(a=1),i===void 0&&(i=function(){return 1});var o=Object.create(le.prototype);qa(o);var u=Object.create(ze.prototype);return za(o,u,e,t,r,n,a,i),o}function qa(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new F,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function ke(e){return!T(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof le}function Ae(e){return e._writer!==void 0}function wt(e,t){var r;if(e._state==="closed"||e._state==="errored")return v(void 0);e._writableStreamController._abortReason=t,(r=e._writableStreamController._abortController)===null||r===void 0||r.abort(t);var n=e._state;if(n==="closed"||n==="errored")return v(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;var a=!1;n==="erroring"&&(a=!0,t=void 0);var i=P(function(o,u){e._pendingAbortRequest={_promise:void 0,_resolve:o,_reject:u,_reason:t,_wasAlreadyErroring:a}});return e._pendingAbortRequest._promise=i,a||Lr(e,t),i}function Wa(e){var t=e._state;if(t==="closed"||t==="errored")return m(new TypeError("The stream (in ".concat(t," state) is not in the writable state and cannot be closed")));var r=P(function(a,i){var o={_resolve:a,_reject:i};e._closeRequest=o}),n=e._writer;return n!==void 0&&e._backpressure&&t==="writable"&&Yr(n),wu(e._writableStreamController),r}function su(e){var t=P(function(r,n){var a={_resolve:r,_reject:n};e._writeRequests.push(a)});return t}function xr(e,t){var r=e._state;if(r==="writable"){Lr(e,t);return}Ur(e)}function Lr(e,t){var r=e._writableStreamController;e._state="erroring",e._storedError=t;var n=e._writer;n!==void 0&&Ba(n,t),!mu(e)&&r._started&&Ur(e)}function Ur(e){e._state="errored",e._writableStreamController[Jn]();var t=e._storedError;if(e._writeRequests.forEach(function(a){a._reject(t)}),e._writeRequests=new F,e._pendingAbortRequest===void 0){ot(e);return}var r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring){r._reject(t),ot(e);return}var n=e._writableStreamController[Xn](r._reason);W(n,function(){return r._resolve(),ot(e),null},function(a){return r._reject(a),ot(e),null})}function fu(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function du(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,xr(e,t)}function cu(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0;var t=e._state;t==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";var r=e._writer;r!==void 0&&Ua(r)}function hu(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),xr(e,t)}function L(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function mu(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function bu(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function pu(e){e._inFlightWriteRequest=e._writeRequests.shift()}function ot(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;t!==void 0&&$r(t,e._storedError)}function Hr(e,t){var r=e._writer;r!==void 0&&t!==e._backpressure&&(t?Au(r):Yr(r)),e._backpressure=t}var J=function(){function e(t){if(G(t,1,"WritableStreamDefaultWriter"),Aa(t,"First parameter"),Ae(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;var r=t._state;if(r==="writable")!L(t)&&t._backpressure?jt(this):_n(this),Rt(this);else if(r==="erroring")cr(this,t._storedError),Rt(this);else if(r==="closed")_n(this),Eu(this);else{var n=t._storedError;cr(this,n),La(this,n)}}return Object.defineProperty(e.prototype,"closed",{get:function(){return de(this)?this._closedPromise:m(ce("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!de(this))throw ce("desiredSize");if(this._ownerWritableStream===void 0)throw Ue("desiredSize");return Su(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return de(this)?this._readyPromise:m(ce("ready"))},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){return t===void 0&&(t=void 0),de(this)?this._ownerWritableStream===void 0?m(Ue("abort")):yu(this,t):m(ce("abort"))},e.prototype.close=function(){if(!de(this))return m(ce("close"));var t=this._ownerWritableStream;return t===void 0?m(Ue("close")):L(t)?m(new TypeError("Cannot close an already-closing stream")):ja(this)},e.prototype.releaseLock=function(){if(!de(this))throw ce("releaseLock");var t=this._ownerWritableStream;t!==void 0&&Da(this)},e.prototype.write=function(t){return t===void 0&&(t=void 0),de(this)?this._ownerWritableStream===void 0?m(Ue("write to")):Fa(this,t):m(ce("write"))},e}();Object.defineProperties(J.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}});S(J.prototype.abort,"abort");S(J.prototype.close,"close");S(J.prototype.releaseLock,"releaseLock");S(J.prototype.write,"write");typeof y.toStringTag=="symbol"&&Object.defineProperty(J.prototype,y.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function de(e){return!T(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof J}function yu(e,t){var r=e._ownerWritableStream;return wt(r,t)}function ja(e){var t=e._ownerWritableStream;return Wa(t)}function _u(e){var t=e._ownerWritableStream,r=t._state;return L(t)||r==="closed"?v(void 0):r==="errored"?m(t._storedError):ja(e)}function vu(e,t){e._closedPromiseState==="pending"?$r(e,t):ku(e,t)}function Ba(e,t){e._readyPromiseState==="pending"?Ha(e,t):Ou(e,t)}function Su(e){var t=e._ownerWritableStream,r=t._state;return r==="errored"||r==="erroring"?null:r==="closed"?0:Ma(t._writableStreamController)}function Da(e){var t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Ba(e,r),vu(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function Fa(e,t){var r=e._ownerWritableStream,n=r._writableStreamController,a=Ru(n,t);if(r!==e._ownerWritableStream)return m(Ue("write to"));var i=r._state;if(i==="errored")return m(r._storedError);if(L(r)||i==="closed")return m(new TypeError("The stream is closing or closed and cannot be written to"));if(i==="erroring")return m(r._storedError);var o=su(r);return Cu(n,t,a),o}var Ia={},ze=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"abortReason",{get:function(){if(!tr(this))throw rr("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"signal",{get:function(){if(!tr(this))throw rr("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),e.prototype.error=function(t){if(t===void 0&&(t=void 0),!tr(this))throw rr("error");var r=this._controlledWritableStream._state;r==="writable"&&xa(this,t)},e.prototype[Xn]=function(t){var r=this._abortAlgorithm(t);return qt(this),r},e.prototype[Jn]=function(){oe(this)},e}();Object.defineProperties(ze.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}});typeof y.toStringTag=="symbol"&&Object.defineProperty(ze.prototype,y.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function tr(e){return!T(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof ze}function za(e,t,r,n,a,i,o,u){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,oe(t),t._abortReason=void 0,t._abortController=uu(),t._started=!1,t._strategySizeAlgorithm=u,t._strategyHWM=o,t._writeAlgorithm=n,t._closeAlgorithm=a,t._abortAlgorithm=i;var s=Nr(t);Hr(e,s);var l=r(),f=v(l);W(f,function(){return t._started=!0,Wt(t),null},function(d){return t._started=!0,xr(e,d),null})}function gu(e,t,r,n){var a=Object.create(ze.prototype),i,o,u,s;t.start!==void 0?i=function(){return t.start(a)}:i=function(){},t.write!==void 0?o=function(l){return t.write(l,a)}:o=function(){return v(void 0)},t.close!==void 0?u=function(){return t.close()}:u=function(){return v(void 0)},t.abort!==void 0?s=function(l){return t.abort(l)}:s=function(){return v(void 0)},za(e,a,i,o,u,s,r,n)}function qt(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function wu(e){Fr(e,Ia,0),Wt(e)}function Ru(e,t){try{return e._strategySizeAlgorithm(t)}catch(r){return Ve(e,r),1}}function Ma(e){return e._strategyHWM-e._queueTotalSize}function Cu(e,t,r){try{Fr(e,t,r)}catch(i){Ve(e,i);return}var n=e._controlledWritableStream;if(!L(n)&&n._state==="writable"){var a=Nr(e);Hr(n,a)}Wt(e)}function Wt(e){var t=e._controlledWritableStream;if(e._started&&t._inFlightWriteRequest===void 0){var r=t._state;if(r==="erroring"){Ur(t);return}if(e._queue.length!==0){var n=zo(e);n===Ia?Pu(e):Tu(e,n)}}}function Ve(e,t){e._controlledWritableStream._state==="writable"&&xa(e,t)}function Pu(e){var t=e._controlledWritableStream;bu(t),Dr(e);var r=e._closeAlgorithm();qt(e),W(r,function(){return cu(t),null},function(n){return hu(t,n),null})}function Tu(e,t){var r=e._controlledWritableStream;pu(r);var n=e._writeAlgorithm(t);W(n,function(){fu(r);var a=r._state;if(Dr(e),!L(r)&&a==="writable"){var i=Nr(e);Hr(r,i)}return Wt(e),null},function(a){return r._state==="writable"&&qt(e),du(r,a),null})}function Nr(e){var t=Ma(e);return t<=0}function xa(e,t){var r=e._controlledWritableStream;qt(e),Lr(r,t)}function ut(e){return new TypeError("WritableStream.prototype.".concat(e," can only be used on a WritableStream"))}function rr(e){return new TypeError("WritableStreamDefaultController.prototype.".concat(e," can only be used on a WritableStreamDefaultController"))}function ce(e){return new TypeError("WritableStreamDefaultWriter.prototype.".concat(e," can only be used on a WritableStreamDefaultWriter"))}function Ue(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Rt(e){e._closedPromise=P(function(t,r){e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"})}function La(e,t){Rt(e),$r(e,t)}function Eu(e){Rt(e),Ua(e)}function $r(e,t){e._closedPromise_reject!==void 0&&(Ie(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function ku(e,t){La(e,t)}function Ua(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function jt(e){e._readyPromise=P(function(t,r){e._readyPromise_resolve=t,e._readyPromise_reject=r}),e._readyPromiseState="pending"}function cr(e,t){jt(e),Ha(e,t)}function _n(e){jt(e),Yr(e)}function Ha(e,t){e._readyPromise_reject!==void 0&&(Ie(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Au(e){jt(e)}function Ou(e,t){cr(e,t)}function Yr(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}function qu(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global}var nr=qu();function Wu(e){if(!(typeof e=="function"||typeof e=="object")||e.name!=="DOMException")return!1;try{return new e,!0}catch{return!1}}function ju(){var e=nr==null?void 0:nr.DOMException;return Wu(e)?e:void 0}function Bu(){var e=function(r,n){this.message=r||"",this.name=n||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return S(e,"DOMException"),e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}var Du=ju()||Bu();function vn(e,t,r,n,a,i){var o=We(e),u=Oa(t);e._disturbed=!0;var s=!1,l=v(void 0);return P(function(f,d){var c;if(i!==void 0){if(c=function(){var b=i.reason!==void 0?i.reason:new Du("Aborted","AbortError"),g=[];n||g.push(function(){return t._state==="writable"?wt(t,b):v(void 0)}),a||g.push(function(){return e._state==="readable"?z(e,b):v(void 0)}),O(function(){return Promise.all(g.map(function(C){return C()}))},!0,b)},i.aborted){c();return}i.addEventListener("abort",c)}function h(){return P(function(b,g){function C(x){x?b():$(p(),C,g)}C(!1)})}function p(){return s?v(!0):$(u._readyPromise,function(){return P(function(b,g){Ze(o,{_chunkSteps:function(C){l=$(Fa(u,C),void 0,Ke),b(!1)},_closeSteps:function(){return b(!0)},_errorSteps:g})})})}if(_(e,o._closedPromise,function(b){return n?H(!0,b):O(function(){return wt(t,b)},!0,b),null}),_(t,u._closedPromise,function(b){return a?H(!0,b):O(function(){return z(e,b)},!0,b),null}),A(e,o._closedPromise,function(){return r?H():O(function(){return _u(u)}),null}),L(t)||t._state==="closed"){var w=new TypeError("the destination writable stream closed before all data could be piped to it");a?H(!0,w):O(function(){return z(e,w)},!0,w)}Ie(h());function k(){var b=l;return $(l,function(){return b!==l?k():void 0})}function _(b,g,C){b._state==="errored"?C(b._storedError):Cr(g,C)}function A(b,g,C){b._state==="closed"?C():Vt(g,C)}function O(b,g,C){if(s)return;s=!0,t._state==="writable"&&!L(t)?Vt(k(),x):x();function x(){return W(b(),function(){return R(g,C)},function(Z){return R(!0,Z)}),null}}function H(b,g){s||(s=!0,t._state==="writable"&&!L(t)?Vt(k(),function(){return R(b,g)}):R(b,g))}function R(b,g){return Da(u),Y(o),i!==void 0&&i.removeEventListener("abort",c),b?d(g):f(void 0),null}})}var K=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!lt(this))throw st("desiredSize");return Qr(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!lt(this))throw st("close");if(!De(this))throw new TypeError("The stream is not in a state that permits close");ve(this)},e.prototype.enqueue=function(t){if(t===void 0&&(t=void 0),!lt(this))throw st("enqueue");if(!De(this))throw new TypeError("The stream is not in a state that permits enqueue");return Be(this,t)},e.prototype.error=function(t){if(t===void 0&&(t=void 0),!lt(this))throw st("error");M(this,t)},e.prototype[Pr]=function(t){oe(this);var r=this._cancelAlgorithm(t);return Ct(this),r},e.prototype[Tr]=function(t){var r=this._controlledReadableStream;if(this._queue.length>0){var n=Dr(this);this._closeRequested&&this._queue.length===0?(Ct(this),tt(r)):Ge(this),t._chunkSteps(n)}else na(r,t),Ge(this)},e.prototype[Er]=function(){},e}();Object.defineProperties(K.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}});S(K.prototype.close,"close");S(K.prototype.enqueue,"enqueue");S(K.prototype.error,"error");typeof y.toStringTag=="symbol"&&Object.defineProperty(K.prototype,y.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function lt(e){return!T(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof K}function Ge(e){var t=Na(e);if(t){if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;var r=e._pullAlgorithm();W(r,function(){return e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Ge(e)),null},function(n){return M(e,n),null})}}function Na(e){var t=e._controlledReadableStream;if(!De(e)||!e._started)return!1;if(re(t)&&At(t)>0)return!0;var r=Qr(e);return r>0}function Ct(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function ve(e){if(De(e)){var t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(Ct(e),tt(t))}}function Be(e,t){if(De(e)){var r=e._controlledReadableStream;if(re(r)&&At(r)>0)Br(r,t,!1);else{var n=void 0;try{n=e._strategySizeAlgorithm(t)}catch(a){throw M(e,a),a}try{Fr(e,t,n)}catch(a){throw M(e,a),a}}Ge(e)}}function M(e,t){var r=e._controlledReadableStream;r._state==="readable"&&(oe(e),Ct(e),Ya(r,t))}function Qr(e){var t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function Fu(e){return!Na(e)}function De(e){var t=e._controlledReadableStream._state;return!e._closeRequested&&t==="readable"}function $a(e,t,r,n,a,i,o){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,oe(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=o,t._strategyHWM=i,t._pullAlgorithm=n,t._cancelAlgorithm=a,e._readableStreamController=t;var u=r();W(v(u),function(){return t._started=!0,Ge(t),null},function(s){return M(t,s),null})}function Iu(e,t,r,n){var a=Object.create(K.prototype),i,o,u;t.start!==void 0?i=function(){return t.start(a)}:i=function(){},t.pull!==void 0?o=function(){return t.pull(a)}:o=function(){return v(void 0)},t.cancel!==void 0?u=function(s){return t.cancel(s)}:u=function(){return v(void 0)},$a(e,a,i,o,u,r,n)}function st(e){return new TypeError("ReadableStreamDefaultController.prototype.".concat(e," can only be used on a ReadableStreamDefaultController"))}function zu(e,t){return be(e._readableStreamController)?xu(e):Mu(e)}function Mu(e,t){var r=We(e),n=!1,a=!1,i=!1,o=!1,u,s,l,f,d,c=P(function(_){d=_});function h(){if(n)return a=!0,v(void 0);n=!0;var _={_chunkSteps:function(A){ye(function(){a=!1;var O=A,H=A;i||Be(l._readableStreamController,O),o||Be(f._readableStreamController,H),n=!1,a&&h()})},_closeSteps:function(){n=!1,i||ve(l._readableStreamController),o||ve(f._readableStreamController),(!i||!o)&&d(void 0)},_errorSteps:function(){n=!1}};return Ze(r,_),v(void 0)}function p(_){if(i=!0,u=_,o){var A=Ye([u,s]),O=z(e,A);d(O)}return c}function w(_){if(o=!0,s=_,i){var A=Ye([u,s]),O=z(e,A);d(O)}return c}function k(){}return l=Xe(k,h,p),f=Xe(k,h,w),Cr(r._closedPromise,function(_){return M(l._readableStreamController,_),M(f._readableStreamController,_),(!i||!o)&&d(void 0),null}),[l,f]}function xu(e){var t=We(e),r=!1,n=!1,a=!1,i=!1,o=!1,u,s,l,f,d,c=P(function(R){d=R});function h(R){Cr(R._closedPromise,function(b){return R!==t||(D(l._readableStreamController,b),D(f._readableStreamController,b),(!i||!o)&&d(void 0)),null})}function p(){pe(t)&&(Y(t),t=We(e),h(t));var R={_chunkSteps:function(b){ye(function(){n=!1,a=!1;var g=b,C=b;if(!i&&!o)try{C=pn(b)}catch(x){D(l._readableStreamController,x),D(f._readableStreamController,x),d(z(e,x));return}i||mt(l._readableStreamController,g),o||mt(f._readableStreamController,C),r=!1,n?k():a&&_()})},_closeSteps:function(){r=!1,i||Le(l._readableStreamController),o||Le(f._readableStreamController),l._readableStreamController._pendingPullIntos.length>0&&bt(l._readableStreamController,0),f._readableStreamController._pendingPullIntos.length>0&&bt(f._readableStreamController,0),(!i||!o)&&d(void 0)},_errorSteps:function(){r=!1}};Ze(t,R)}function w(R,b){te(t)&&(Y(t),t=Pa(e),h(t));var g=b?f:l,C=b?l:f,x={_chunkSteps:function(Z){ye(function(){n=!1,a=!1;var Pe=b?o:i,Me=b?i:o;if(Me)Pe||pt(g._readableStreamController,Z);else{var en=void 0;try{en=pn(Z)}catch($t){D(g._readableStreamController,$t),D(C._readableStreamController,$t),d(z(e,$t));return}Pe||pt(g._readableStreamController,Z),mt(C._readableStreamController,en)}r=!1,n?k():a&&_()})},_closeSteps:function(Z){r=!1;var Pe=b?o:i,Me=b?i:o;Pe||Le(g._readableStreamController),Me||Le(C._readableStreamController),Z!==void 0&&(Pe||pt(g._readableStreamController,Z),!Me&&C._readableStreamController._pendingPullIntos.length>0&&bt(C._readableStreamController,0)),(!Pe||!Me)&&d(void 0)},_errorSteps:function(){r=!1}};Ea(t,R,1,x)}function k(){if(r)return n=!0,v(void 0);r=!0;var R=dr(l._readableStreamController);return R===null?p():w(R._view,!1),v(void 0)}function _(){if(r)return a=!0,v(void 0);r=!0;var R=dr(f._readableStreamController);return R===null?p():w(R._view,!0),v(void 0)}function A(R){if(i=!0,u=R,o){var b=Ye([u,s]),g=z(e,b);d(g)}return c}function O(R){if(o=!0,s=R,i){var b=Ye([u,s]),g=z(e,b);d(g)}return c}function H(){}return l=gn(H,k,A),f=gn(H,_,O),h(t),[l,f]}function Lu(e){return T(e)&&typeof e.getReader<"u"}function Uu(e){return Lu(e)?Nu(e.getReader()):Hu(e)}function Hu(e){var t,r=la(e,"async"),n=Ke;function a(){var o;try{o=jo(r)}catch(s){return m(s)}var u=v(o);return V(u,function(s){if(!T(s))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");var l=Bo(s);if(l)ve(t._readableStreamController);else{var f=Do(s);Be(t._readableStreamController,f)}})}function i(o){var u=r.iterator,s;try{s=ct(u,"return")}catch(d){return m(d)}if(s===void 0)return v(void 0);var l;try{l=Se(s,u,[o])}catch(d){return m(d)}var f=v(l);return V(f,function(d){if(!T(d))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return t=Xe(n,a,i,0),t}function Nu(e){var t,r=Ke;function n(){var i;try{i=e.read()}catch(o){return m(o)}return V(i,function(o){if(!T(o))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(o.done)ve(t._readableStreamController);else{var u=o.value;Be(t._readableStreamController,u)}})}function a(i){try{return v(e.cancel(i))}catch(o){return m(o)}}return t=Xe(r,n,a,0),t}function $u(e,t){U(e,t);var r=e,n=r==null?void 0:r.autoAllocateChunkSize,a=r==null?void 0:r.cancel,i=r==null?void 0:r.pull,o=r==null?void 0:r.start,u=r==null?void 0:r.type;return{autoAllocateChunkSize:n===void 0?void 0:Wr(n,"".concat(t," has member 'autoAllocateChunkSize' that")),cancel:a===void 0?void 0:Yu(a,r,"".concat(t," has member 'cancel' that")),pull:i===void 0?void 0:Qu(i,r,"".concat(t," has member 'pull' that")),start:o===void 0?void 0:Vu(o,r,"".concat(t," has member 'start' that")),type:u===void 0?void 0:Gu(u,"".concat(t," has member 'type' that"))}}function Yu(e,t,r){return I(e,r),function(n){return ae(e,t,[n])}}function Qu(e,t,r){return I(e,r),function(n){return ae(e,t,[n])}}function Vu(e,t,r){return I(e,r),function(n){return Se(e,t,[n])}}function Gu(e,t){if(e="".concat(e),e!=="bytes")throw new TypeError("".concat(t," '").concat(e,"' is not a valid enumeration value for ReadableStreamType"));return e}function Xu(e,t){U(e,t);var r=e==null?void 0:e.preventCancel;return{preventCancel:!!r}}function Sn(e,t){U(e,t);var r=e==null?void 0:e.preventAbort,n=e==null?void 0:e.preventCancel,a=e==null?void 0:e.preventClose,i=e==null?void 0:e.signal;return i!==void 0&&Ju(i,"".concat(t," has member 'signal' that")),{preventAbort:!!r,preventCancel:!!n,preventClose:!!a,signal:i}}function Ju(e,t){if(!iu(e))throw new TypeError("".concat(t," is not an AbortSignal."))}function Ku(e,t){U(e,t);var r=e==null?void 0:e.readable;sr(r,"readable","ReadableWritablePair"),jr(r,"".concat(t," has member 'readable' that"));var n=e==null?void 0:e.writable;return sr(n,"writable","ReadableWritablePair"),Aa(n,"".concat(t," has member 'writable' that")),{readable:r,writable:n}}var q=function(){function e(t,r){t===void 0&&(t={}),r===void 0&&(r={}),t===void 0?t=null:ta(t,"First parameter");var n=gt(r,"Second parameter"),a=$u(t,"First parameter");if(Vr(this),a.type==="bytes"){if(n.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");var i=Qe(n,0);Yo(this,a,i)}else{var o=St(n),i=Qe(n,1);Iu(this,a,i,o)}}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!ee(this))throw he("locked");return re(this)},enumerable:!1,configurable:!0}),e.prototype.cancel=function(t){return t===void 0&&(t=void 0),ee(this)?re(this)?m(new TypeError("Cannot cancel a stream that already has a reader")):z(this,t):m(he("cancel"))},e.prototype.getReader=function(t){if(t===void 0&&(t=void 0),!ee(this))throw he("getReader");var r=Vo(t,"First parameter");return r.mode===void 0?We(this):Pa(this)},e.prototype.pipeThrough=function(t,r){if(r===void 0&&(r={}),!ee(this))throw he("pipeThrough");G(t,1,"pipeThrough");var n=Ku(t,"First parameter"),a=Sn(r,"Second parameter");if(re(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Ae(n.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var i=vn(this,n.writable,a.preventClose,a.preventAbort,a.preventCancel,a.signal);return Ie(i),n.readable},e.prototype.pipeTo=function(t,r){if(r===void 0&&(r={}),!ee(this))return m(he("pipeTo"));if(t===void 0)return m("Parameter 1 is required in 'pipeTo'.");if(!ke(t))return m(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var n;try{n=Sn(r,"Second parameter")}catch(a){return m(a)}return re(this)?m(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Ae(t)?m(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):vn(this,t,n.preventClose,n.preventAbort,n.preventCancel,n.signal)},e.prototype.tee=function(){if(!ee(this))throw he("tee");var t=zu(this);return Ye(t)},e.prototype.values=function(t){if(t===void 0&&(t=void 0),!ee(this))throw he("values");var r=Xu(t,"First parameter");return Fo(this,r.preventCancel)},e.prototype[et]=function(t){return this.values(t)},e.from=function(t){return Uu(t)},e}();Object.defineProperties(q,{from:{enumerable:!0}});Object.defineProperties(q.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}});S(q.from,"from");S(q.prototype.cancel,"cancel");S(q.prototype.getReader,"getReader");S(q.prototype.pipeThrough,"pipeThrough");S(q.prototype.pipeTo,"pipeTo");S(q.prototype.tee,"tee");S(q.prototype.values,"values");typeof y.toStringTag=="symbol"&&Object.defineProperty(q.prototype,y.toStringTag,{value:"ReadableStream",configurable:!0});Object.defineProperty(q.prototype,et,{value:q.prototype.values,writable:!0,configurable:!0});function Xe(e,t,r,n,a){n===void 0&&(n=1),a===void 0&&(a=function(){return 1});var i=Object.create(q.prototype);Vr(i);var o=Object.create(K.prototype);return $a(i,o,e,t,r,n,a),i}function gn(e,t,r){var n=Object.create(q.prototype);Vr(n);var a=Object.create(X.prototype);return Ca(n,a,e,t,r,0,void 0),n}function Vr(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function ee(e){return!T(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof q}function re(e){return e._reader!==void 0}function z(e,t){if(e._disturbed=!0,e._state==="closed")return v(void 0);if(e._state==="errored")return m(e._storedError);tt(e);var r=e._reader;if(r!==void 0&&pe(r)){var n=r._readIntoRequests;r._readIntoRequests=new F,n.forEach(function(i){i._closeSteps(void 0)})}var a=e._readableStreamController[Pr](t);return V(a,Ke)}function tt(e){e._state="closed";var t=e._reader;if(t!==void 0&&(ea(t),te(t))){var r=t._readRequests;t._readRequests=new F,r.forEach(function(n){n._closeSteps()})}}function Ya(e,t){e._state="errored",e._storedError=t;var r=e._reader;r!==void 0&&(Or(r,t),te(r)?ia(r,t):ka(r,t))}function he(e){return new TypeError("ReadableStream.prototype.".concat(e," can only be used on a ReadableStream"))}function Qa(e,t){U(e,t);var r=e==null?void 0:e.highWaterMark;return sr(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:qr(r)}}var Va=function(e){return e.byteLength};S(Va,"size");var Bt=function(){function e(t){G(t,1,"ByteLengthQueuingStrategy"),t=Qa(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!Rn(this))throw wn("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!Rn(this))throw wn("size");return Va},enumerable:!1,configurable:!0}),e}();Object.defineProperties(Bt.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}});typeof y.toStringTag=="symbol"&&Object.defineProperty(Bt.prototype,y.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function wn(e){return new TypeError("ByteLengthQueuingStrategy.prototype.".concat(e," can only be used on a ByteLengthQueuingStrategy"))}function Rn(e){return!T(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof Bt}var Ga=function(){return 1};S(Ga,"size");var Dt=function(){function e(t){G(t,1,"CountQueuingStrategy"),t=Qa(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!Pn(this))throw Cn("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!Pn(this))throw Cn("size");return Ga},enumerable:!1,configurable:!0}),e}();Object.defineProperties(Dt.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}});typeof y.toStringTag=="symbol"&&Object.defineProperty(Dt.prototype,y.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Cn(e){return new TypeError("CountQueuingStrategy.prototype.".concat(e," can only be used on a CountQueuingStrategy"))}function Pn(e){return!T(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof Dt}function Zu(e,t){U(e,t);var r=e==null?void 0:e.cancel,n=e==null?void 0:e.flush,a=e==null?void 0:e.readableType,i=e==null?void 0:e.start,o=e==null?void 0:e.transform,u=e==null?void 0:e.writableType;return{cancel:r===void 0?void 0:nl(r,e,"".concat(t," has member 'cancel' that")),flush:n===void 0?void 0:el(n,e,"".concat(t," has member 'flush' that")),readableType:a,start:i===void 0?void 0:tl(i,e,"".concat(t," has member 'start' that")),transform:o===void 0?void 0:rl(o,e,"".concat(t," has member 'transform' that")),writableType:u}}function el(e,t,r){return I(e,r),function(n){return ae(e,t,[n])}}function tl(e,t,r){return I(e,r),function(n){return Se(e,t,[n])}}function rl(e,t,r){return I(e,r),function(n,a){return ae(e,t,[n,a])}}function nl(e,t,r){return I(e,r),function(n){return ae(e,t,[n])}}var Ft=function(){function e(t,r,n){t===void 0&&(t={}),r===void 0&&(r={}),n===void 0&&(n={}),t===void 0&&(t=null);var a=gt(r,"Second parameter"),i=gt(n,"Third parameter"),o=Zu(t,"First parameter");if(o.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(o.writableType!==void 0)throw new RangeError("Invalid writableType specified");var u=Qe(i,0),s=St(i),l=Qe(a,1),f=St(a),d,c=P(function(h){d=h});al(this,c,l,f,u,s),ol(this,o),o.start!==void 0?d(o.start(this._transformStreamController)):d(void 0)}return Object.defineProperty(e.prototype,"readable",{get:function(){if(!Tn(this))throw kn("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"writable",{get:function(){if(!Tn(this))throw kn("writable");return this._writable},enumerable:!1,configurable:!0}),e}();Object.defineProperties(Ft.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}});typeof y.toStringTag=="symbol"&&Object.defineProperty(Ft.prototype,y.toStringTag,{value:"TransformStream",configurable:!0});function al(e,t,r,n,a,i){function o(){return t}function u(c){return sl(e,c)}function s(c){return fl(e,c)}function l(){return dl(e)}e._writable=lu(o,u,l,s,r,n);function f(){return cl(e)}function d(c){return hl(e,c)}e._readable=Xe(o,f,d,a,i),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,It(e,!0),e._transformStreamController=void 0}function Tn(e){return!T(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof Ft}function Xa(e,t){M(e._readable._readableStreamController,t),Gr(e,t)}function Gr(e,t){zt(e._transformStreamController),Ve(e._writable._writableStreamController,t),hr(e)}function hr(e){e._backpressure&&It(e,!1)}function It(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=P(function(r){e._backpressureChangePromise_resolve=r}),e._backpressure=t}var se=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!ft(this))throw dt("desiredSize");var t=this._controlledTransformStream._readable._readableStreamController;return Qr(t)},enumerable:!1,configurable:!0}),e.prototype.enqueue=function(t){if(t===void 0&&(t=void 0),!ft(this))throw dt("enqueue");Ja(this,t)},e.prototype.error=function(t){if(t===void 0&&(t=void 0),!ft(this))throw dt("error");ul(this,t)},e.prototype.terminate=function(){if(!ft(this))throw dt("terminate");ll(this)},e}();Object.defineProperties(se.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}});S(se.prototype.enqueue,"enqueue");S(se.prototype.error,"error");S(se.prototype.terminate,"terminate");typeof y.toStringTag=="symbol"&&Object.defineProperty(se.prototype,y.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function ft(e){return!T(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof se}function il(e,t,r,n,a){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=n,t._cancelAlgorithm=a,t._finishPromise=void 0,t._finishPromise_resolve=void 0,t._finishPromise_reject=void 0}function ol(e,t){var r=Object.create(se.prototype),n,a,i;t.transform!==void 0?n=function(o){return t.transform(o,r)}:n=function(o){try{return Ja(r,o),v(void 0)}catch(u){return m(u)}},t.flush!==void 0?a=function(){return t.flush(r)}:a=function(){return v(void 0)},t.cancel!==void 0?i=function(o){return t.cancel(o)}:i=function(){return v(void 0)},il(e,r,n,a,i)}function zt(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0,e._cancelAlgorithm=void 0}function Ja(e,t){var r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!De(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{Be(n,t)}catch(i){throw Gr(r,i),r._readable._storedError}var a=Fu(n);a!==r._backpressure&&It(r,!0)}function ul(e,t){Xa(e._controlledTransformStream,t)}function En(e,t){var r=e._transformAlgorithm(t);return V(r,void 0,function(n){throw Xa(e._controlledTransformStream,n),n})}function ll(e){var t=e._controlledTransformStream,r=t._readable._readableStreamController;ve(r);var n=new TypeError("TransformStream terminated");Gr(t,n)}function sl(e,t){var r=e._transformStreamController;if(e._backpressure){var n=e._backpressureChangePromise;return V(n,function(){var a=e._writable,i=a._state;if(i==="erroring")throw a._storedError;return En(r,t)})}return En(r,t)}function fl(e,t){var r=e._transformStreamController;if(r._finishPromise!==void 0)return r._finishPromise;var n=e._readable;r._finishPromise=P(function(i,o){r._finishPromise_resolve=i,r._finishPromise_reject=o});var a=r._cancelAlgorithm(t);return zt(r),W(a,function(){return n._state==="errored"?Fe(r,n._storedError):(M(n._readableStreamController,t),Xr(r)),null},function(i){return M(n._readableStreamController,i),Fe(r,i),null}),r._finishPromise}function dl(e){var t=e._transformStreamController;if(t._finishPromise!==void 0)return t._finishPromise;var r=e._readable;t._finishPromise=P(function(a,i){t._finishPromise_resolve=a,t._finishPromise_reject=i});var n=t._flushAlgorithm();return zt(t),W(n,function(){return r._state==="errored"?Fe(t,r._storedError):(ve(r._readableStreamController),Xr(t)),null},function(a){return M(r._readableStreamController,a),Fe(t,a),null}),t._finishPromise}function cl(e){return It(e,!1),e._backpressureChangePromise}function hl(e,t){var r=e._transformStreamController;if(r._finishPromise!==void 0)return r._finishPromise;var n=e._writable;r._finishPromise=P(function(i,o){r._finishPromise_resolve=i,r._finishPromise_reject=o});var a=r._cancelAlgorithm(t);return zt(r),W(a,function(){return n._state==="errored"?Fe(r,n._storedError):(Ve(n._writableStreamController,t),hr(e),Xr(r)),null},function(i){return Ve(n._writableStreamController,i),hr(e),Fe(r,i),null}),r._finishPromise}function dt(e){return new TypeError("TransformStreamDefaultController.prototype.".concat(e," can only be used on a TransformStreamDefaultController"))}function Xr(e){e._finishPromise_resolve!==void 0&&(e._finishPromise_resolve(),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function Fe(e,t){e._finishPromise_reject!==void 0&&(Ie(e._finishPromise),e._finishPromise_reject(t),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function kn(e){return new TypeError("TransformStream.prototype.".concat(e," can only be used on a TransformStream"))}const ml=Object.freeze(Object.defineProperty({__proto__:null,ByteLengthQueuingStrategy:Bt,CountQueuingStrategy:Dt,ReadableByteStreamController:X,ReadableStream:q,ReadableStreamBYOBReader:ue,ReadableStreamBYOBRequest:ge,ReadableStreamDefaultController:K,ReadableStreamDefaultReader:ie,TransformStream:Ft,TransformStreamDefaultController:se,WritableStream:le,WritableStreamDefaultController:ze,WritableStreamDefaultWriter:J},Symbol.toStringTag,{value:"Module"})),bl=br(ml);var Ka=bl;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Rr,r=Ka;const{Blob:n}=globalThis;Object.defineProperty(e,"TextDecoder",{enumerable:!0,get:function(){return t.TextDecoder}}),Object.defineProperty(e,"TextEncoder",{enumerable:!0,get:function(){return t.TextEncoder}}),Object.defineProperty(e,"ReadableStream",{enumerable:!0,get:function(){return r.ReadableStream}}),e.Blob=n})(Qn);var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});const pl=globalThis.File,yl=globalThis.Blob;Mt.Blob=yl;Mt.File=pl;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});const{FormData:_l}=globalThis;Jr.FormData=_l;(function(e,t){const r=Qn,n=Mt,a=Jr,{Headers:i,Request:o,Response:u}=globalThis,s=globalThis.fetch.bind(globalThis);Object.defineProperty(t,"Blob",{enumerable:!0,get:function(){return r.Blob}}),Object.defineProperty(t,"ReadableStream",{enumerable:!0,get:function(){return r.ReadableStream}}),Object.defineProperty(t,"File",{enumerable:!0,get:function(){return n.File}}),Object.defineProperty(t,"FormData",{enumerable:!0,get:function(){return a.FormData}}),t.Headers=i,t.Request=o,t.Response=u,t.default=s,t=e.exports=Object.assign(fetch,t)})(ur,ur.exports);var vl=ur.exports;/**
 * @remix-run/node v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */Object.defineProperty(wr,"__esModule",{value:!0});var Te=vl,j=Ka;function Sl(){E.File=Te.File,E.Headers=Te.Headers,E.Request=Te.Request,E.Response=Te.Response,E.fetch=Te.fetch,E.FormData=Te.FormData,E.ByteLengthQueuingStrategy=j.ByteLengthQueuingStrategy,E.CountQueuingStrategy=j.CountQueuingStrategy,E.ReadableByteStreamController=j.ReadableByteStreamController,E.ReadableStream=j.ReadableStream,E.ReadableStreamBYOBReader=j.ReadableStreamBYOBReader,E.ReadableStreamBYOBRequest=j.ReadableStreamBYOBRequest,E.ReadableStreamDefaultController=j.ReadableStreamDefaultController,E.ReadableStreamDefaultReader=j.ReadableStreamDefaultReader,E.TransformStream=j.TransformStream,E.TransformStreamDefaultController=j.TransformStreamDefaultController,E.WritableStream=j.WritableStream,E.WritableStreamDefaultController=j.WritableStreamDefaultController,E.WritableStreamDefaultWriter=j.WritableStreamDefaultWriter}wr.installGlobals=Sl;var xt={};const gl={},wl=Object.freeze(Object.defineProperty({__proto__:null,default:gl},Symbol.toStringTag,{value:"Module"})),B=br(wl);var Re={};const Kr=br(yo);var Lt={},Za={};(function(e){var t=B;e.sign=function(r,n){if(typeof r!="string")throw new TypeError("Cookie value must be provided as a string.");if(n==null)throw new TypeError("Secret key must be provided.");return r+"."+t.createHmac("sha256",n).update(r).digest("base64").replace(/\=+$/,"")},e.unsign=function(r,n){if(typeof r!="string")throw new TypeError("Signed cookie string must be provided.");if(n==null)throw new TypeError("Secret key must be provided.");var a=r.slice(0,r.lastIndexOf(".")),i=e.sign(a,n),o=Buffer.from(i),u=Buffer.from(r);return o.length===u.length&&t.timingSafeEqual(o,u)?a:!1}})(Za);/**
 * @remix-run/node v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */Object.defineProperty(Lt,"__esModule",{value:!0});var Rl=Za;function Cl(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var ei=Cl(Rl);const Pl=async(e,t)=>ei.default.sign(e,t),Tl=async(e,t)=>ei.default.unsign(e,t);Lt.sign=Pl;Lt.unsign=Tl;/**
 * @remix-run/node v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */Object.defineProperty(Re,"__esModule",{value:!0});var Ut=Kr,An=Lt;const Zr=Ut.createCookieFactory({sign:An.sign,unsign:An.unsign}),El=Ut.createCookieSessionStorageFactory(Zr),ti=Ut.createSessionStorageFactory(Zr),kl=Ut.createMemorySessionStorageFactory(ti);Re.createCookie=Zr;Re.createCookieSessionStorage=El;Re.createMemorySessionStorage=kl;Re.createSessionStorage=ti;/**
 * @remix-run/node v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */Object.defineProperty(xt,"__esModule",{value:!0});var Al=B,me=B,Ol=B,ql=Re;function ri(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var Wl=ri(Al),mr=ri(Ol);function jl({cookie:e,dir:t}){return ql.createSessionStorage({cookie:e,async createData(r,n){let a=JSON.stringify({data:r,expires:n});for(;;){let i=Wl.webcrypto.getRandomValues(new Uint8Array(8)),o=Buffer.from(i).toString("hex");try{let u=He(t,o);return await me.promises.mkdir(mr.dirname(u),{recursive:!0}),await me.promises.writeFile(u,a,{encoding:"utf-8",flag:"wx"}),o}catch(u){if(u.code!=="EEXIST")throw u}}},async readData(r){try{let n=He(t,r),a=JSON.parse(await me.promises.readFile(n,"utf-8")),i=a.data,o=typeof a.expires=="string"?new Date(a.expires):null;return!o||o>new Date?i:(o&&await me.promises.unlink(n),null)}catch(n){if(n.code!=="ENOENT")throw n;return null}},async updateData(r,n,a){let i=JSON.stringify({data:n,expires:a}),o=He(t,r);await me.promises.mkdir(mr.dirname(o),{recursive:!0}),await me.promises.writeFile(o,i,"utf-8")},async deleteData(r){if(r)try{await me.promises.unlink(He(t,r))}catch(n){if(n.code!=="ENOENT")throw n}}})}function He(e,t){return mr.join(e,t.slice(0,4),t.slice(4))}xt.createFileSessionStorage=jl;xt.getFile=He;var Ht={},ni={},Bl=pr,ai=B.Transform;Bl.inherits(Je,ai);function Je(e,t){if(!(this instanceof Je))return new Je;ai.call(this),this._start=e||0,this._end=t||1/0,this._offset=0,this._state=0,this._emitUp=!1,this._emitDown=!1}Je.prototype._transform=function(e,t,r){if(this._offset+=e.length,!this._emitUp&&this._offset>=this._start){this._emitUp=!0;var n=e.length-(this._offset-this._start);if(this._offset>this._end){var a=e.length-(this._offset-this._end);this._emitDown=!0,this.push(e.slice(n,a))}else this.push(e.slice(n,e.length));return r()}return this._emitUp&&!this._emitDown&&(this._offset>=this._end?(this._emitDown=!0,this.push(e.slice(0,e.length-(this._offset-this._end)))):this.push(e)),r()};ni.slice=function(e,t){return new Je(e,t)};var Ce={};/**
 * @remix-run/node v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */Object.defineProperty(Ce,"__esModule",{value:!0});var Dl=B;async function Fl(e,t){let r=e.getReader(),n=t;try{for(;;){let{done:a,value:i}=await r.read();if(a){t.end();break}t.write(i),typeof n.flush=="function"&&n.flush()}}catch(a){throw t.destroy(a),a}}async function Il(e,t){try{for await(let r of e)t.write(r);t.end()}catch(r){throw t.destroy(r),r}}async function zl(e,t){let r=e.getReader(),n=[];for(;;){let{done:a,value:i}=await r.read();if(a)break;i&&n.push(i)}return Buffer.concat(n).toString(t)}const Ml=e=>{let t=new xl(e);return new ReadableStream(t,t)};class xl{constructor(t){this.highWaterMark=t.readableHighWaterMark||new Dl.Stream.Readable().readableHighWaterMark,this.accumalatedSize=0,this.stream=t,this.enqueue=this.enqueue.bind(this),this.error=this.error.bind(this),this.close=this.close.bind(this)}size(t){return(t==null?void 0:t.byteLength)||0}start(t){this.controller=t,this.stream.on("data",this.enqueue),this.stream.once("error",this.error),this.stream.once("end",this.close),this.stream.once("close",this.close)}pull(){this.resume()}cancel(t){this.stream.destroy&&this.stream.destroy(t),this.stream.off("data",this.enqueue),this.stream.off("error",this.error),this.stream.off("end",this.close),this.stream.off("close",this.close)}enqueue(t){if(this.controller)try{let r=t instanceof Uint8Array?t:Buffer.from(t),n=(this.controller.desiredSize||0)-r.byteLength;this.controller.enqueue(r),n<=0&&this.pause()}catch{this.controller.error(new Error("Could not create Buffer, chunk must be of type string or an instance of Buffer, ArrayBuffer, or Array or an Array-like Object")),this.cancel()}}pause(){this.stream.pause&&this.stream.pause()}resume(){this.stream.readable&&this.stream.resume&&this.stream.resume()}close(){this.controller&&(this.controller.close(),delete this.controller)}error(t){this.controller&&(this.controller.error(t),delete this.controller)}}Ce.createReadableStreamFromReadable=Ml;Ce.readableStreamToString=zl;Ce.writeAsyncIterableToWritable=Il;Ce.writeReadableStreamToWritable=Fl;/**
 * @remix-run/node v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */Object.defineProperty(Ht,"__esModule",{value:!0});var Ll=B,yt=B,Pt=B,Ul=B,Oe=B,Hl=B,Nl=B,$l=Kr,Yl=ni,On=Ce;function Ql(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var qn=Ql(Yl);let Vl=({filename:e})=>{let t=e?Oe.extname(e):"";return"upload_"+Ll.randomBytes(4).readUInt32LE(0)+t};async function Gl(e){let t=Oe.extname(e),r=e;for(let n=1;await Pt.stat(r).then(()=>!0).catch(()=>!1);n++)r=(t?e.slice(0,-t.length):e)+`-${new Date().getTime()}${t}`;return r}function Xl({directory:e=Ul.tmpdir(),avoidFileConflicts:t=!0,file:r=Vl,filter:n,maxPartSize:a=3e6}={}){return async({name:i,filename:o,contentType:u,data:s})=>{if(!o||n&&!await n({name:i,filename:o,contentType:u}))return;let l=typeof e=="string"?e:e({name:i,filename:o,contentType:u});if(!l)return;let f=Oe.resolve(l),d=typeof r=="string"?r:r({name:i,filename:o,contentType:u});if(!d)return;let c=Oe.resolve(f,d);t&&(c=await Gl(c)),await Pt.mkdir(Oe.dirname(c),{recursive:!0}).catch(()=>{});let h=yt.createWriteStream(c),p=0,w=!1;try{for await(let k of s){if(p+=k.byteLength,p>a)throw w=!0,new $l.MaxPartSizeExceededError(i,a);h.write(k)}}finally{h.end(),await Nl.promisify(Hl.finished)(h),w&&await Pt.rm(c).catch(()=>{})}return new Nt(c,u)}}class Nt{constructor(t,r,n){rt(this,"lastModified",0);rt(this,"webkitRelativePath","");rt(this,"prototype",File.prototype);this.filepath=t,this.type=r,this.slicer=n,this.name=Oe.basename(t)}get size(){let t=yt.statSync(this.filepath);if(this.slicer){let r=this.slicer.end-this.slicer.start;return r<0?0:r>t.size?t.size:r}return t.size}slice(t,r,n){var a;typeof t=="number"&&t<0&&(t=this.size+t),typeof r=="number"&&r<0&&(r=this.size+r);let i=((a=this.slicer)===null||a===void 0?void 0:a.start)||0;return t=i+(t||0),r=i+(r||this.size),new Nt(this.filepath,typeof n=="string"?n:this.type,{start:t,end:r})}async arrayBuffer(){let t=yt.createReadStream(this.filepath);return this.slicer&&(t=t.pipe(qn.slice(this.slicer.start,this.slicer.end))),new Promise((r,n)=>{let a=[];t.on("data",i=>a.push(i)),t.on("end",()=>r(Buffer.concat(a))),t.on("error",i=>n(i))})}stream(){let t=yt.createReadStream(this.filepath);return this.slicer&&(t=t.pipe(qn.slice(this.slicer.start,this.slicer.end))),On.createReadableStreamFromReadable(t)}async text(){return On.readableStreamToString(this.stream())}get[Symbol.toStringTag](){return"File"}remove(){return Pt.unlink(this.filepath)}getFilePath(){return this.filepath}}Ht.NodeOnDiskFile=Nt;Ht.createFileUploadHandler=Xl;/**
 * @remix-run/node v2.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=wr,r=xt,n=Ht,a=Re,i=Ce,o=Kr;e.installGlobals=t.installGlobals,e.createFileSessionStorage=r.createFileSessionStorage,e.NodeOnDiskFile=n.NodeOnDiskFile,e.unstable_createFileUploadHandler=n.createFileUploadHandler,e.createCookie=a.createCookie,e.createCookieSessionStorage=a.createCookieSessionStorage,e.createMemorySessionStorage=a.createMemorySessionStorage,e.createSessionStorage=a.createSessionStorage,e.createReadableStreamFromReadable=i.createReadableStreamFromReadable,e.readableStreamToString=i.readableStreamToString,e.writeAsyncIterableToWritable=i.writeAsyncIterableToWritable,e.writeReadableStreamToWritable=i.writeReadableStreamToWritable,Object.defineProperty(e,"MaxPartSizeExceededError",{enumerable:!0,get:function(){return o.MaxPartSizeExceededError}}),Object.defineProperty(e,"broadcastDevReady",{enumerable:!0,get:function(){return o.broadcastDevReady}}),Object.defineProperty(e,"createRequestHandler",{enumerable:!0,get:function(){return o.createRequestHandler}}),Object.defineProperty(e,"createSession",{enumerable:!0,get:function(){return o.createSession}}),Object.defineProperty(e,"defer",{enumerable:!0,get:function(){return o.defer}}),Object.defineProperty(e,"isCookie",{enumerable:!0,get:function(){return o.isCookie}}),Object.defineProperty(e,"isSession",{enumerable:!0,get:function(){return o.isSession}}),Object.defineProperty(e,"json",{enumerable:!0,get:function(){return o.json}}),Object.defineProperty(e,"logDevReady",{enumerable:!0,get:function(){return o.logDevReady}}),Object.defineProperty(e,"redirect",{enumerable:!0,get:function(){return o.redirect}}),Object.defineProperty(e,"redirectDocument",{enumerable:!0,get:function(){return o.redirectDocument}}),Object.defineProperty(e,"unstable_composeUploadHandlers",{enumerable:!0,get:function(){return o.unstable_composeUploadHandlers}}),Object.defineProperty(e,"unstable_createMemoryUploadHandler",{enumerable:!0,get:function(){return o.unstable_createMemoryUploadHandler}}),Object.defineProperty(e,"unstable_parseMultipartFormData",{enumerable:!0,get:function(){return o.unstable_parseMultipartFormData}})})(_o);export{_o as d};
