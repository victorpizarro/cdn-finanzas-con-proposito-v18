/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C.apply(this,arguments)}var k;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(k||(k={}));const Rt="popstate";function rn(e){e===void 0&&(e={});function t(n,a){let{pathname:d,search:s,hash:p}=n.location;return ve("",{pathname:d,search:s,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:be(a)}return fr(t,r,null,e)}function I(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ae(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ur(){return Math.random().toString(36).substr(2,8)}function Dt(e,t){return{usr:e.state,key:e.key,idx:t}}function ve(e,t,r,n){return r===void 0&&(r=null),C({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?we(t):t,{state:r,key:t&&t.key||n||ur()})}function be(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function we(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function fr(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:d=!1}=n,s=a.history,p=k.Pop,f=null,g=h();g==null&&(g=0,s.replaceState(C({},s.state,{idx:g}),""));function h(){return(s.state||{idx:null}).idx}function E(){p=k.Pop;let y=h(),c=y==null?null:y-g;g=y,f&&f({action:p,location:b.location,delta:c})}function v(y,c){p=k.Push;let x=ve(b.location,y,c);r&&r(x,y),g=h()+1;let F=Dt(x,g),_=b.createHref(x);try{s.pushState(F,"",_)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;a.location.assign(_)}d&&f&&f({action:p,location:b.location,delta:1})}function L(y,c){p=k.Replace;let x=ve(b.location,y,c);r&&r(x,y),g=h();let F=Dt(x,g),_=b.createHref(x);s.replaceState(F,"",_),d&&f&&f({action:p,location:b.location,delta:0})}function D(y){let c=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof y=="string"?y:be(y);return x=x.replace(/ $/,"%20"),I(c,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,c)}let b={get action(){return p},get location(){return e(a,s)},listen(y){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Rt,E),f=y,()=>{a.removeEventListener(Rt,E),f=null}},createHref(y){return t(a,y)},createURL:D,encodeLocation(y){let c=D(y);return{pathname:c.pathname,search:c.search,hash:c.hash}},push:v,replace:L,go(y){return s.go(y)}};return b}var B;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(B||(B={}));const cr=new Set(["lazy","caseSensitive","path","id","index","children"]);function hr(e){return e.index===!0}function Je(e,t,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),e.map((a,d)=>{let s=[...r,d],p=typeof a.id=="string"?a.id:s.join("-");if(I(a.index!==!0||!a.children,"Cannot specify children on an index route"),I(!n[p],'Found a route id collision on id "'+p+`".  Route id's must be globally unique within Data Router usages`),hr(a)){let f=C({},a,t(a),{id:p});return n[p]=f,f}else{let f=C({},a,t(a),{id:p,children:void 0});return n[p]=f,a.children&&(f.children=Je(a.children,t,s,n)),f}})}function ye(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?we(t):t,a=Xe(n.pathname||"/",r);if(a==null)return null;let d=Ut(e);mr(d);let s=null;for(let p=0;s==null&&p<d.length;++p){let f=Lr(a);s=Er(d[p],f)}return s}function pr(e,t){let{route:r,pathname:n,params:a}=e;return{id:r.id,pathname:n,params:a,data:t[r.id],handle:r.handle}}function Ut(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(d,s,p)=>{let f={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:s,route:d};f.relativePath.startsWith("/")&&(I(f.relativePath.startsWith(n),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(n.length));let g=He([n,f.relativePath]),h=r.concat(f);d.children&&d.children.length>0&&(I(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Ut(d.children,t,h,g)),!(d.path==null&&!d.index)&&t.push({path:g,score:Dr(g,d.index),routesMeta:h})};return e.forEach((d,s)=>{var p;if(d.path===""||!((p=d.path)!=null&&p.includes("?")))a(d,s);else for(let f of It(d.path))a(d,s,f)}),t}function It(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),d=r.replace(/\?$/,"");if(n.length===0)return a?[d,""]:[d];let s=It(n.join("/")),p=[];return p.push(...s.map(f=>f===""?d:[d,f].join("/"))),a&&p.push(...s),p.map(f=>e.startsWith("/")&&f===""?"/":f)}function mr(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Sr(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const gr=/^:[\w-]+$/,yr=3,vr=2,br=1,wr=10,Rr=-2,St=e=>e==="*";function Dr(e,t){let r=e.split("/"),n=r.length;return r.some(St)&&(n+=Rr),t&&(n+=vr),r.filter(a=>!St(a)).reduce((a,d)=>a+(gr.test(d)?yr:d===""?br:wr),n)}function Sr(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Er(e,t){let{routesMeta:r}=e,n={},a="/",d=[];for(let s=0;s<r.length;++s){let p=r[s],f=s===r.length-1,g=a==="/"?t:t.slice(a.length)||"/",h=Pr({path:p.relativePath,caseSensitive:p.caseSensitive,end:f},g);if(!h)return null;Object.assign(n,h.params);let E=p.route;d.push({params:n,pathname:He([a,h.pathname]),pathnameBase:Cr(He([a,h.pathnameBase])),route:E}),h.pathnameBase!=="/"&&(a=He([a,h.pathnameBase]))}return d}function Pr(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=xr(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let d=a[0],s=d.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:n.reduce((g,h,E)=>{let{paramName:v,isOptional:L}=h;if(v==="*"){let b=p[E]||"";s=d.slice(0,d.length-b.length).replace(/(.)\/+$/,"$1")}const D=p[E];return L&&!D?g[v]=void 0:g[v]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:d,pathnameBase:s,pattern:e}}function xr(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ae(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,p,f)=>(n.push({paramName:p,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Lr(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ae(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Xe(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Mr(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?we(e):e;return{pathname:r?r.startsWith("/")?r:Ar(r,t):t,search:Fr(n),hash:_r(a)}}function Ar(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function nt(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zt(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function jr(e,t){let r=zt(e);return t?r.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Tr(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=we(e):(a=C({},e),I(!a.pathname||!a.pathname.includes("?"),nt("?","pathname","search",a)),I(!a.pathname||!a.pathname.includes("#"),nt("#","pathname","hash",a)),I(!a.search||!a.search.includes("#"),nt("#","search","hash",a)));let d=e===""||a.pathname==="",s=d?"/":a.pathname,p;if(s==null)p=r;else{let E=t.length-1;if(!n&&s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),E-=1;a.pathname=v.join("/")}p=E>=0?t[E]:"/"}let f=Mr(a,p),g=s&&s!=="/"&&s.endsWith("/"),h=(d||s===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(g||h)&&(f.pathname+="/"),f}const He=e=>e.join("/").replace(/\/\/+/g,"/"),Cr=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Fr=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_r=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,nn=function(t,r){r===void 0&&(r={});let n=typeof r=="number"?{status:r}:r,a=new Headers(n.headers);return a.has("Content-Type")||a.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(t),C({},n,{headers:a}))};class Et extends Error{}class Or{constructor(t,r){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],I(t&&typeof t=="object"&&!Array.isArray(t),"defer() only accepts plain objects");let n;this.abortPromise=new Promise((d,s)=>n=s),this.controller=new AbortController;let a=()=>n(new Et("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",a),this.controller.signal.addEventListener("abort",a),this.data=Object.entries(t).reduce((d,s)=>{let[p,f]=s;return Object.assign(d,{[p]:this.trackPromise(p,f)})},{}),this.done&&this.unlistenAbortSignal(),this.init=r}trackPromise(t,r){if(!(r instanceof Promise))return r;this.deferredKeys.push(t),this.pendingKeysSet.add(t);let n=Promise.race([r,this.abortPromise]).then(a=>this.onSettle(n,t,void 0,a),a=>this.onSettle(n,t,a));return n.catch(()=>{}),Object.defineProperty(n,"_tracked",{get:()=>!0}),n}onSettle(t,r,n,a){if(this.controller.signal.aborted&&n instanceof Et)return this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>n}),Promise.reject(n);if(this.pendingKeysSet.delete(r),this.done&&this.unlistenAbortSignal(),n===void 0&&a===void 0){let d=new Error('Deferred data for key "'+r+'" resolved/rejected with `undefined`, you must resolve/reject with a value or `null`.');return Object.defineProperty(t,"_error",{get:()=>d}),this.emit(!1,r),Promise.reject(d)}return a===void 0?(Object.defineProperty(t,"_error",{get:()=>n}),this.emit(!1,r),Promise.reject(n)):(Object.defineProperty(t,"_data",{get:()=>a}),this.emit(!1,r),a)}emit(t,r){this.subscribers.forEach(n=>n(t,r))}subscribe(t){return this.subscribers.add(t),()=>this.subscribers.delete(t)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((t,r)=>this.pendingKeysSet.delete(r)),this.emit(!0)}async resolveData(t){let r=!1;if(!this.done){let n=()=>this.cancel();t.addEventListener("abort",n),r=await new Promise(a=>{this.subscribe(d=>{t.removeEventListener("abort",n),(d||this.done)&&a(d)})})}return r}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return I(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((t,r)=>{let[n,a]=r;return Object.assign(t,{[n]:Ir(a)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function Ur(e){return e instanceof Promise&&e._tracked===!0}function Ir(e){if(!Ur(e))return e;if(e._error)throw e._error;return e._data}const an=function(t,r){r===void 0&&(r={});let n=typeof r=="number"?{status:r}:r;return new Or(t,n)},zr=function(t,r){r===void 0&&(r=302);let n=r;typeof n=="number"?n={status:n}:typeof n.status>"u"&&(n.status=302);let a=new Headers(n.headers);return a.set("Location",t),new Response(null,C({},n,{headers:a}))},on=(e,t)=>{let r=zr(e,t);return r.headers.set("X-Remix-Reload-Document","true"),r};class Ht{constructor(t,r,n,a){a===void 0&&(a=!1),this.status=t,this.statusText=r||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function dt(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Nt=["post","put","patch","delete"],Hr=new Set(Nt),Nr=["get",...Nt],Br=new Set(Nr),Kr=new Set([301,302,303,307,308]),Wr=new Set([307,308]),at={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$r={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ue={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Bt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kt=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Wt="remix-router-transitions";function ln(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",n=!r;I(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let i=e.detectErrorBoundary;a=o=>({hasErrorBoundary:i(o)})}else a=Kt;let d={},s=Je(e.routes,a,void 0,d),p,f=e.basename||"/",g=C({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},e.future),h=null,E=new Set,v=null,L=null,D=null,b=e.hydrationData!=null,y=ye(s,e.history.location,f),c=null;if(y==null){let i=W(404,{pathname:e.history.location.pathname}),{matches:o,route:u}=Ge(s);y=o,c={[u.id]:i}}let x,F=y.some(i=>i.route.lazy),_=y.some(i=>i.route.loader);if(F)x=!1;else if(!_)x=!0;else if(g.v7_partialHydration){let i=e.hydrationData?e.hydrationData.loaderData:null,o=e.hydrationData?e.hydrationData.errors:null,u=m=>m.route.loader?m.route.loader.hydrate===!0?!1:i&&i[m.route.id]!==void 0||o&&o[m.route.id]!==void 0:!0;if(o){let m=y.findIndex(w=>o[w.route.id]!==void 0);x=y.slice(0,m+1).every(u)}else x=y.every(u)}else x=e.hydrationData!=null;let U,l={historyAction:e.history.action,location:e.history.location,matches:y,initialized:x,navigation:at,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||c,fetchers:new Map,blockers:new Map},z=k.Pop,T=!1,N,te=!1,Z=new Map,ee=null,Re=!1,fe=!1,Be=[],Ke=[],$=new Map,We=0,je=-1,De=new Map,re=new Set,Se=new Map,Te=new Map,ne=new Set,ce=new Map,he=new Map,Qe=!1;function Gt(){if(h=e.history.listen(i=>{let{action:o,location:u,delta:m}=i;if(Qe){Qe=!1;return}Ae(he.size===0||m!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let w=vt({currentLocation:l.location,nextLocation:u,historyAction:o});if(w&&m!=null){Qe=!0,e.history.go(m*-1),ke(w,{state:"blocked",location:u,proceed(){ke(w,{state:"proceeding",proceed:void 0,reset:void 0,location:u}),e.history.go(m)},reset(){let A=new Map(l.blockers);A.set(w,Ue),X({blockers:A})}});return}return pe(o,u)}),r){en(t,Z);let i=()=>tn(t,Z);t.addEventListener("pagehide",i),ee=()=>t.removeEventListener("pagehide",i)}return l.initialized||pe(k.Pop,l.location,{initialHydration:!0}),U}function Xt(){h&&h(),ee&&ee(),E.clear(),N&&N.abort(),l.fetchers.forEach((i,o)=>$e(o)),l.blockers.forEach((i,o)=>yt(o))}function Qt(i){return E.add(i),()=>E.delete(i)}function X(i,o){o===void 0&&(o={}),l=C({},l,i);let u=[],m=[];g.v7_fetcherPersist&&l.fetchers.forEach((w,A)=>{w.state==="idle"&&(ne.has(A)?m.push(A):u.push(A))}),[...E].forEach(w=>w(l,{deletedFetchers:m,unstable_viewTransitionOpts:o.viewTransitionOpts,unstable_flushSync:o.flushSync===!0})),g.v7_fetcherPersist&&(u.forEach(w=>l.fetchers.delete(w)),m.forEach(w=>$e(w)))}function Ce(i,o,u){var m,w;let{flushSync:A}=u===void 0?{}:u,P=l.actionData!=null&&l.navigation.formMethod!=null&&q(l.navigation.formMethod)&&l.navigation.state==="loading"&&((m=i.state)==null?void 0:m._isRedirect)!==!0,S;o.actionData?Object.keys(o.actionData).length>0?S=o.actionData:S=null:P?S=l.actionData:S=null;let R=o.loaderData?Ct(l.loaderData,o.loaderData,o.matches||[],o.errors):l.loaderData,j=l.blockers;j.size>0&&(j=new Map(j),j.forEach((K,J)=>j.set(J,Ue)));let V=T===!0||l.navigation.formMethod!=null&&q(l.navigation.formMethod)&&((w=i.state)==null?void 0:w._isRedirect)!==!0;p&&(s=p,p=void 0),Re||z===k.Pop||(z===k.Push?e.history.push(i,i.state):z===k.Replace&&e.history.replace(i,i.state));let M;if(z===k.Pop){let K=Z.get(l.location.pathname);K&&K.has(i.pathname)?M={currentLocation:l.location,nextLocation:i}:Z.has(i.pathname)&&(M={currentLocation:i,nextLocation:l.location})}else if(te){let K=Z.get(l.location.pathname);K?K.add(i.pathname):(K=new Set([i.pathname]),Z.set(l.location.pathname,K)),M={currentLocation:l.location,nextLocation:i}}X(C({},o,{actionData:S,loaderData:R,historyAction:z,location:i,initialized:!0,navigation:at,revalidation:"idle",restoreScrollPosition:wt(i,o.matches||l.matches),preventScrollReset:V,blockers:j}),{viewTransitionOpts:M,flushSync:A===!0}),z=k.Pop,T=!1,te=!1,Re=!1,fe=!1,Be=[],Ke=[]}async function ft(i,o){if(typeof i=="number"){e.history.go(i);return}let u=ot(l.location,l.matches,f,g.v7_prependBasename,i,g.v7_relativeSplatPath,o==null?void 0:o.fromRouteId,o==null?void 0:o.relative),{path:m,submission:w,error:A}=xt(g.v7_normalizeFormMethod,!1,u,o),P=l.location,S=ve(l.location,m,o&&o.state);S=C({},S,e.history.encodeLocation(S));let R=o&&o.replace!=null?o.replace:void 0,j=k.Push;R===!0?j=k.Replace:R===!1||w!=null&&q(w.formMethod)&&w.formAction===l.location.pathname+l.location.search&&(j=k.Replace);let V=o&&"preventScrollReset"in o?o.preventScrollReset===!0:void 0,M=(o&&o.unstable_flushSync)===!0,K=vt({currentLocation:P,nextLocation:S,historyAction:j});if(K){ke(K,{state:"blocked",location:S,proceed(){ke(K,{state:"proceeding",proceed:void 0,reset:void 0,location:S}),ft(i,o)},reset(){let J=new Map(l.blockers);J.set(K,Ue),X({blockers:J})}});return}return await pe(j,S,{submission:w,pendingError:A,preventScrollReset:V,replace:o&&o.replace,enableViewTransition:o&&o.unstable_viewTransition,flushSync:M})}function Zt(){if(Ze(),X({revalidation:"loading"}),l.navigation.state!=="submitting"){if(l.navigation.state==="idle"){pe(l.historyAction,l.location,{startUninterruptedRevalidation:!0});return}pe(z||l.historyAction,l.navigation.location,{overrideNavigation:l.navigation})}}async function pe(i,o,u){N&&N.abort(),N=null,z=i,Re=(u&&u.startUninterruptedRevalidation)===!0,lr(l.location,l.matches),T=(u&&u.preventScrollReset)===!0,te=(u&&u.enableViewTransition)===!0;let m=p||s,w=u&&u.overrideNavigation,A=ye(m,o,f),P=(u&&u.flushSync)===!0;if(!A){let J=W(404,{pathname:o.pathname}),{matches:Q,route:Y}=Ge(m);qe(),Ce(o,{matches:Q,loaderData:{},errors:{[Y.id]:J}},{flushSync:P});return}if(l.initialized&&!fe&&Jr(l.location,o)&&!(u&&u.submission&&q(u.submission.formMethod))){Ce(o,{matches:A},{flushSync:P});return}N=new AbortController;let S=Ie(e.history,o,N.signal,u&&u.submission),R,j;if(u&&u.pendingError)j={[Le(A).route.id]:u.pendingError};else if(u&&u.submission&&q(u.submission.formMethod)){let J=await qt(S,o,u.submission,A,{replace:u.replace,flushSync:P});if(J.shortCircuited)return;R=J.pendingActionData,j=J.pendingActionError,w=it(o,u.submission),P=!1,S=new Request(S.url,{signal:S.signal})}let{shortCircuited:V,loaderData:M,errors:K}=await er(S,o,A,w,u&&u.submission,u&&u.fetcherSubmission,u&&u.replace,u&&u.initialHydration===!0,P,R,j);V||(N=null,Ce(o,C({matches:A},R?{actionData:R}:{},{loaderData:M,errors:K})))}async function qt(i,o,u,m,w){w===void 0&&(w={}),Ze();let A=Zr(o,u);X({navigation:A},{flushSync:w.flushSync===!0});let P,S=Ne(m,o);if(!S.route.action&&!S.route.lazy)P={type:B.error,error:W(405,{method:i.method,pathname:o.pathname,routeId:S.route.id})};else if(P=await ge("action",i,S,m,d,a,f,g.v7_relativeSplatPath),i.signal.aborted)return{shortCircuited:!0};if(ue(P)){let R;return w&&w.replace!=null?R=w.replace:R=P.location===l.location.pathname+l.location.search,await Fe(l,P,{submission:u,replace:R}),{shortCircuited:!0}}if(de(P)){let R=Le(m,S.route.id);return(w&&w.replace)!==!0&&(z=k.Push),{pendingActionData:{},pendingActionError:{[R.route.id]:P.error}}}if(se(P))throw W(400,{type:"defer-action"});return{pendingActionData:{[S.route.id]:P.data}}}async function er(i,o,u,m,w,A,P,S,R,j,V){let M=m||it(o,w),K=w||A||Ot(M),J=p||s,[Q,Y]=Lt(e.history,l,u,K,o,g.v7_partialHydration&&S===!0,fe,Be,Ke,ne,Se,re,J,f,j,V);if(qe(O=>!(u&&u.some(H=>H.route.id===O))||Q&&Q.some(H=>H.route.id===O)),je=++We,Q.length===0&&Y.length===0){let O=mt();return Ce(o,C({matches:u,loaderData:{},errors:V||null},j?{actionData:j}:{},O?{fetchers:new Map(l.fetchers)}:{}),{flushSync:R}),{shortCircuited:!0}}if(!Re&&(!g.v7_partialHydration||!S)){Y.forEach(H=>{let G=l.fetchers.get(H.key),Ye=ze(void 0,G?G.data:void 0);l.fetchers.set(H.key,Ye)});let O=j||l.actionData;X(C({navigation:M},O?Object.keys(O).length===0?{actionData:null}:{actionData:O}:{},Y.length>0?{fetchers:new Map(l.fetchers)}:{}),{flushSync:R})}Y.forEach(O=>{$.has(O.key)&&ie(O.key),O.controller&&$.set(O.key,O.controller)});let Ee=()=>Y.forEach(O=>ie(O.key));N&&N.signal.addEventListener("abort",Ee);let{results:et,loaderResults:Pe,fetcherResults:oe}=await ct(l.matches,u,Q,Y,i);if(i.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",Ee),Y.forEach(O=>$.delete(O.key));let me=Ft(et);if(me){if(me.idx>=Q.length){let O=Y[me.idx-Q.length].key;re.add(O)}return await Fe(l,me.result,{replace:P}),{shortCircuited:!0}}let{loaderData:tt,errors:Oe}=Tt(l,u,Q,Pe,V,Y,oe,ce);ce.forEach((O,H)=>{O.subscribe(G=>{(G||O.done)&&ce.delete(H)})}),g.v7_partialHydration&&S&&l.errors&&Object.entries(l.errors).filter(O=>{let[H]=O;return!Q.some(G=>G.route.id===H)}).forEach(O=>{let[H,G]=O;Oe=Object.assign(Oe||{},{[H]:G})});let rt=mt(),xe=gt(je),Ve=rt||xe||Y.length>0;return C({loaderData:tt,errors:Oe},Ve?{fetchers:new Map(l.fetchers)}:{})}function tr(i,o,u,m){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");$.has(i)&&ie(i);let w=(m&&m.unstable_flushSync)===!0,A=p||s,P=ot(l.location,l.matches,f,g.v7_prependBasename,u,g.v7_relativeSplatPath,o,m==null?void 0:m.relative),S=ye(A,P,f);if(!S){_e(i,o,W(404,{pathname:P}),{flushSync:w});return}let{path:R,submission:j,error:V}=xt(g.v7_normalizeFormMethod,!0,P,m);if(V){_e(i,o,V,{flushSync:w});return}let M=Ne(S,R);if(T=(m&&m.preventScrollReset)===!0,j&&q(j.formMethod)){rr(i,o,R,M,S,w,j);return}Se.set(i,{routeId:o,path:R}),nr(i,o,R,M,S,w,j)}async function rr(i,o,u,m,w,A,P){if(Ze(),Se.delete(i),!m.route.action&&!m.route.lazy){let H=W(405,{method:P.formMethod,pathname:u,routeId:o});_e(i,o,H,{flushSync:A});return}let S=l.fetchers.get(i);ae(i,qr(P,S),{flushSync:A});let R=new AbortController,j=Ie(e.history,u,R.signal,P);$.set(i,R);let V=We,M=await ge("action",j,m,w,d,a,f,g.v7_relativeSplatPath);if(j.signal.aborted){$.get(i)===R&&$.delete(i);return}if(g.v7_fetcherPersist&&ne.has(i)){if(ue(M)||de(M)){ae(i,le(void 0));return}}else{if(ue(M))if($.delete(i),je>V){ae(i,le(void 0));return}else return re.add(i),ae(i,ze(P)),Fe(l,M,{fetcherSubmission:P});if(de(M)){_e(i,o,M.error);return}}if(se(M))throw W(400,{type:"defer-action"});let K=l.navigation.location||l.location,J=Ie(e.history,K,R.signal),Q=p||s,Y=l.navigation.state!=="idle"?ye(Q,l.navigation.location,f):l.matches;I(Y,"Didn't find any matches after fetcher action");let Ee=++We;De.set(i,Ee);let et=ze(P,M.data);l.fetchers.set(i,et);let[Pe,oe]=Lt(e.history,l,Y,P,K,!1,fe,Be,Ke,ne,Se,re,Q,f,{[m.route.id]:M.data},void 0);oe.filter(H=>H.key!==i).forEach(H=>{let G=H.key,Ye=l.fetchers.get(G),dr=ze(void 0,Ye?Ye.data:void 0);l.fetchers.set(G,dr),$.has(G)&&ie(G),H.controller&&$.set(G,H.controller)}),X({fetchers:new Map(l.fetchers)});let me=()=>oe.forEach(H=>ie(H.key));R.signal.addEventListener("abort",me);let{results:tt,loaderResults:Oe,fetcherResults:rt}=await ct(l.matches,Y,Pe,oe,J);if(R.signal.aborted)return;R.signal.removeEventListener("abort",me),De.delete(i),$.delete(i),oe.forEach(H=>$.delete(H.key));let xe=Ft(tt);if(xe){if(xe.idx>=Pe.length){let H=oe[xe.idx-Pe.length].key;re.add(H)}return Fe(l,xe.result)}let{loaderData:Ve,errors:O}=Tt(l,l.matches,Pe,Oe,void 0,oe,rt,ce);if(l.fetchers.has(i)){let H=le(M.data);l.fetchers.set(i,H)}gt(Ee),l.navigation.state==="loading"&&Ee>je?(I(z,"Expected pending action"),N&&N.abort(),Ce(l.navigation.location,{matches:Y,loaderData:Ve,errors:O,fetchers:new Map(l.fetchers)})):(X({errors:O,loaderData:Ct(l.loaderData,Ve,Y,O),fetchers:new Map(l.fetchers)}),fe=!1)}async function nr(i,o,u,m,w,A,P){let S=l.fetchers.get(i);ae(i,ze(P,S?S.data:void 0),{flushSync:A});let R=new AbortController,j=Ie(e.history,u,R.signal);$.set(i,R);let V=We,M=await ge("loader",j,m,w,d,a,f,g.v7_relativeSplatPath);if(se(M)&&(M=await Jt(M,j.signal,!0)||M),$.get(i)===R&&$.delete(i),!j.signal.aborted){if(ne.has(i)){ae(i,le(void 0));return}if(ue(M))if(je>V){ae(i,le(void 0));return}else{re.add(i),await Fe(l,M);return}if(de(M)){_e(i,o,M.error);return}I(!se(M),"Unhandled fetcher deferred data"),ae(i,le(M.data))}}async function Fe(i,o,u){let{submission:m,fetcherSubmission:w,replace:A}=u===void 0?{}:u;o.revalidate&&(fe=!0);let P=ve(i.location,o.location,{_isRedirect:!0});if(I(P,"Expected a location on the redirect navigation"),r){let K=!1;if(o.reloadDocument)K=!0;else if(Bt.test(o.location)){const J=e.history.createURL(o.location);K=J.origin!==t.location.origin||Xe(J.pathname,f)==null}if(K){A?t.location.replace(o.location):t.location.assign(o.location);return}}N=null;let S=A===!0?k.Replace:k.Push,{formMethod:R,formAction:j,formEncType:V}=i.navigation;!m&&!w&&R&&j&&V&&(m=Ot(i.navigation));let M=m||w;if(Wr.has(o.status)&&M&&q(M.formMethod))await pe(S,P,{submission:C({},M,{formAction:o.location}),preventScrollReset:T});else{let K=it(P,m);await pe(S,P,{overrideNavigation:K,fetcherSubmission:w,preventScrollReset:T})}}async function ct(i,o,u,m,w){let A=await Promise.all([...u.map(R=>ge("loader",w,R,o,d,a,f,g.v7_relativeSplatPath)),...m.map(R=>R.matches&&R.match&&R.controller?ge("loader",Ie(e.history,R.path,R.controller.signal),R.match,R.matches,d,a,f,g.v7_relativeSplatPath):{type:B.error,error:W(404,{pathname:R.path})})]),P=A.slice(0,u.length),S=A.slice(u.length);return await Promise.all([_t(i,u,P,P.map(()=>w.signal),!1,l.loaderData),_t(i,m.map(R=>R.match),S,m.map(R=>R.controller?R.controller.signal:null),!0)]),{results:A,loaderResults:P,fetcherResults:S}}function Ze(){fe=!0,Be.push(...qe()),Se.forEach((i,o)=>{$.has(o)&&(Ke.push(o),ie(o))})}function ae(i,o,u){u===void 0&&(u={}),l.fetchers.set(i,o),X({fetchers:new Map(l.fetchers)},{flushSync:(u&&u.flushSync)===!0})}function _e(i,o,u,m){m===void 0&&(m={});let w=Le(l.matches,o);$e(i),X({errors:{[w.route.id]:u},fetchers:new Map(l.fetchers)},{flushSync:(m&&m.flushSync)===!0})}function ht(i){return g.v7_fetcherPersist&&(Te.set(i,(Te.get(i)||0)+1),ne.has(i)&&ne.delete(i)),l.fetchers.get(i)||$r}function $e(i){let o=l.fetchers.get(i);$.has(i)&&!(o&&o.state==="loading"&&De.has(i))&&ie(i),Se.delete(i),De.delete(i),re.delete(i),ne.delete(i),l.fetchers.delete(i)}function ar(i){if(g.v7_fetcherPersist){let o=(Te.get(i)||0)-1;o<=0?(Te.delete(i),ne.add(i)):Te.set(i,o)}else $e(i);X({fetchers:new Map(l.fetchers)})}function ie(i){let o=$.get(i);I(o,"Expected fetch controller: "+i),o.abort(),$.delete(i)}function pt(i){for(let o of i){let u=ht(o),m=le(u.data);l.fetchers.set(o,m)}}function mt(){let i=[],o=!1;for(let u of re){let m=l.fetchers.get(u);I(m,"Expected fetcher: "+u),m.state==="loading"&&(re.delete(u),i.push(u),o=!0)}return pt(i),o}function gt(i){let o=[];for(let[u,m]of De)if(m<i){let w=l.fetchers.get(u);I(w,"Expected fetcher: "+u),w.state==="loading"&&(ie(u),De.delete(u),o.push(u))}return pt(o),o.length>0}function ir(i,o){let u=l.blockers.get(i)||Ue;return he.get(i)!==o&&he.set(i,o),u}function yt(i){l.blockers.delete(i),he.delete(i)}function ke(i,o){let u=l.blockers.get(i)||Ue;I(u.state==="unblocked"&&o.state==="blocked"||u.state==="blocked"&&o.state==="blocked"||u.state==="blocked"&&o.state==="proceeding"||u.state==="blocked"&&o.state==="unblocked"||u.state==="proceeding"&&o.state==="unblocked","Invalid blocker state transition: "+u.state+" -> "+o.state);let m=new Map(l.blockers);m.set(i,o),X({blockers:m})}function vt(i){let{currentLocation:o,nextLocation:u,historyAction:m}=i;if(he.size===0)return;he.size>1&&Ae(!1,"A router only supports one blocker at a time");let w=Array.from(he.entries()),[A,P]=w[w.length-1],S=l.blockers.get(A);if(!(S&&S.state==="proceeding")&&P({currentLocation:o,nextLocation:u,historyAction:m}))return A}function qe(i){let o=[];return ce.forEach((u,m)=>{(!i||i(m))&&(u.cancel(),o.push(m),ce.delete(m))}),o}function or(i,o,u){if(v=i,D=o,L=u||null,!b&&l.navigation===at){b=!0;let m=wt(l.location,l.matches);m!=null&&X({restoreScrollPosition:m})}return()=>{v=null,D=null,L=null}}function bt(i,o){return L&&L(i,o.map(m=>pr(m,l.loaderData)))||i.key}function lr(i,o){if(v&&D){let u=bt(i,o);v[u]=D()}}function wt(i,o){if(v){let u=bt(i,o),m=v[u];if(typeof m=="number")return m}return null}function sr(i){d={},p=Je(i,a,void 0,d)}return U={get basename(){return f},get future(){return g},get state(){return l},get routes(){return s},get window(){return t},initialize:Gt,subscribe:Qt,enableScrollRestoration:or,navigate:ft,fetch:tr,revalidate:Zt,createHref:i=>e.history.createHref(i),encodeLocation:i=>e.history.encodeLocation(i),getFetcher:ht,deleteFetcher:ar,dispose:Xt,getBlocker:ir,deleteBlocker:yt,_internalFetchControllers:$,_internalActiveDeferreds:ce,_internalSetRoutes:sr},U}const kr=Symbol("deferred");function sn(e,t){I(e.length>0,"You must provide a non-empty routes array to createStaticHandler");let r={},n=(t?t.basename:null)||"/",a;if(t!=null&&t.mapRouteProperties)a=t.mapRouteProperties;else if(t!=null&&t.detectErrorBoundary){let v=t.detectErrorBoundary;a=L=>({hasErrorBoundary:v(L)})}else a=Kt;let d=C({v7_relativeSplatPath:!1,v7_throwAbortReason:!1},t?t.future:null),s=Je(e,a,void 0,r);async function p(v,L){let{requestContext:D}=L===void 0?{}:L,b=new URL(v.url),y=v.method,c=ve("",be(b),null,"default"),x=ye(s,c,n);if(!st(y)&&y!=="HEAD"){let _=W(405,{method:y}),{matches:U,route:l}=Ge(s);return{basename:n,location:c,matches:U,loaderData:{},actionData:null,errors:{[l.id]:_},statusCode:_.status,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}else if(!x){let _=W(404,{pathname:c.pathname}),{matches:U,route:l}=Ge(s);return{basename:n,location:c,matches:U,loaderData:{},actionData:null,errors:{[l.id]:_},statusCode:_.status,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}let F=await g(v,c,x,D);return Me(F)?F:C({location:c,basename:n},F)}async function f(v,L){let{routeId:D,requestContext:b}=L===void 0?{}:L,y=new URL(v.url),c=v.method,x=ve("",be(y),null,"default"),F=ye(s,x,n);if(!st(c)&&c!=="HEAD"&&c!=="OPTIONS")throw W(405,{method:c});if(!F)throw W(404,{pathname:x.pathname});let _=D?F.find(T=>T.route.id===D):Ne(F,x);if(D&&!_)throw W(403,{pathname:x.pathname,routeId:D});if(!_)throw W(404,{pathname:x.pathname});let U=await g(v,x,F,b,_);if(Me(U))return U;let l=U.errors?Object.values(U.errors)[0]:void 0;if(l!==void 0)throw l;if(U.actionData)return Object.values(U.actionData)[0];if(U.loaderData){var z;let T=Object.values(U.loaderData)[0];return(z=U.activeDeferreds)!=null&&z[_.route.id]&&(T[kr]=U.activeDeferreds[_.route.id]),T}}async function g(v,L,D,b,y){I(v.signal,"query()/queryRoute() requests must contain an AbortController signal");try{if(q(v.method.toLowerCase()))return await h(v,D,y||Ne(D,L),b,y!=null);let c=await E(v,D,b,y);return Me(c)?c:C({},c,{actionData:null,actionHeaders:{}})}catch(c){if(Qr(c)){if(c.type===B.error)throw c.response;return c.response}if(Xr(c))return c;throw c}}async function h(v,L,D,b,y){let c;if(!D.route.action&&!D.route.lazy){let _=W(405,{method:v.method,pathname:new URL(v.url).pathname,routeId:D.route.id});if(y)throw _;c={type:B.error,error:_}}else c=await ge("action",v,D,L,r,a,n,d.v7_relativeSplatPath,{isStaticRequest:!0,isRouteRequest:y,requestContext:b}),v.signal.aborted&&Pt(v,y,d);if(ue(c))throw new Response(null,{status:c.status,headers:{Location:c.location}});if(se(c)){let _=W(400,{type:"defer-action"});if(y)throw _;c={type:B.error,error:_}}if(y){if(de(c))throw c.error;return{matches:[D],loaderData:{},actionData:{[D.route.id]:c.data},errors:null,statusCode:200,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}if(de(c)){let _=Le(L,D.route.id),U=await E(v,L,b,void 0,{[_.route.id]:c.error});return C({},U,{statusCode:dt(c.error)?c.error.status:500,actionData:null,actionHeaders:C({},c.headers?{[D.route.id]:c.headers}:{})})}let x=new Request(v.url,{headers:v.headers,redirect:v.redirect,signal:v.signal}),F=await E(x,L,b);return C({},F,c.statusCode?{statusCode:c.statusCode}:{},{actionData:{[D.route.id]:c.data},actionHeaders:C({},c.headers?{[D.route.id]:c.headers}:{})})}async function E(v,L,D,b,y){let c=b!=null;if(c&&!(b!=null&&b.route.loader)&&!(b!=null&&b.route.lazy))throw W(400,{method:v.method,pathname:new URL(v.url).pathname,routeId:b==null?void 0:b.route.id});let F=(b?[b]:$t(L,Object.keys(y||{})[0])).filter(T=>T.route.loader||T.route.lazy);if(F.length===0)return{matches:L,loaderData:L.reduce((T,N)=>Object.assign(T,{[N.route.id]:null}),{}),errors:y||null,statusCode:200,loaderHeaders:{},activeDeferreds:null};let _=await Promise.all([...F.map(T=>ge("loader",v,T,L,r,a,n,d.v7_relativeSplatPath,{isStaticRequest:!0,isRouteRequest:c,requestContext:D}))]);v.signal.aborted&&Pt(v,c,d);let U=new Map,l=Vt(L,F,_,y,U),z=new Set(F.map(T=>T.route.id));return L.forEach(T=>{z.has(T.route.id)||(l.loaderData[T.route.id]=null)}),C({},l,{matches:L,activeDeferreds:U.size>0?Object.fromEntries(U.entries()):null})}return{dataRoutes:s,query:p,queryRoute:f}}function dn(e,t,r){return C({},t,{statusCode:dt(r)?r.status:500,errors:{[t._deepestRenderedBoundaryId||e[0].id]:r}})}function Pt(e,t,r){if(r.v7_throwAbortReason&&e.signal.reason!==void 0)throw e.signal.reason;let n=t?"queryRoute":"query";throw new Error(n+"() call aborted: "+e.method+" "+e.url)}function Vr(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function ot(e,t,r,n,a,d,s,p){let f,g;if(s){f=[];for(let E of t)if(f.push(E),E.route.id===s){g=E;break}}else f=t,g=t[t.length-1];let h=Tr(a||".",jr(f,d),Xe(e.pathname,r)||e.pathname,p==="path");return a==null&&(h.search=e.search,h.hash=e.hash),(a==null||a===""||a===".")&&g&&g.route.index&&!ut(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(h.pathname=h.pathname==="/"?r:He([r,h.pathname])),be(h)}function xt(e,t,r,n){if(!n||!Vr(n))return{path:r};if(n.formMethod&&!st(n.formMethod))return{path:r,error:W(405,{method:n.formMethod})};let a=()=>({path:r,error:W(400,{type:"invalid-body"})}),d=n.formMethod||"get",s=e?d.toUpperCase():d.toLowerCase(),p=Yt(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!q(s))return a();let v=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((L,D)=>{let[b,y]=D;return""+L+b+"="+y+`
`},""):String(n.body);return{path:r,submission:{formMethod:s,formAction:p,formEncType:n.formEncType,formData:void 0,json:void 0,text:v}}}else if(n.formEncType==="application/json"){if(!q(s))return a();try{let v=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:s,formAction:p,formEncType:n.formEncType,formData:void 0,json:v,text:void 0}}}catch{return a()}}}I(typeof FormData=="function","FormData is not available in this environment");let f,g;if(n.formData)f=lt(n.formData),g=n.formData;else if(n.body instanceof FormData)f=lt(n.body),g=n.body;else if(n.body instanceof URLSearchParams)f=n.body,g=jt(f);else if(n.body==null)f=new URLSearchParams,g=new FormData;else try{f=new URLSearchParams(n.body),g=jt(f)}catch{return a()}let h={formMethod:s,formAction:p,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:g,json:void 0,text:void 0};if(q(h.formMethod))return{path:r,submission:h};let E=we(r);return t&&E.search&&ut(E.search)&&f.append("index",""),E.search="?"+f,{path:be(E),submission:h}}function $t(e,t){let r=e;if(t){let n=e.findIndex(a=>a.route.id===t);n>=0&&(r=e.slice(0,n))}return r}function Lt(e,t,r,n,a,d,s,p,f,g,h,E,v,L,D,b){let y=b?Object.values(b)[0]:D?Object.values(D)[0]:void 0,c=e.createURL(t.location),x=e.createURL(a),F=b?Object.keys(b)[0]:void 0,U=$t(r,F).filter((z,T)=>{let{route:N}=z;if(N.lazy)return!0;if(N.loader==null)return!1;if(d)return N.loader.hydrate?!0:t.loaderData[N.id]===void 0&&(!t.errors||t.errors[N.id]===void 0);if(Yr(t.loaderData,t.matches[T],z)||p.some(ee=>ee===z.route.id))return!0;let te=t.matches[T],Z=z;return Mt(z,C({currentUrl:c,currentParams:te.params,nextUrl:x,nextParams:Z.params},n,{actionResult:y,defaultShouldRevalidate:s||c.pathname+c.search===x.pathname+x.search||c.search!==x.search||kt(te,Z)}))}),l=[];return h.forEach((z,T)=>{if(d||!r.some(Re=>Re.route.id===z.routeId)||g.has(T))return;let N=ye(v,z.path,L);if(!N){l.push({key:T,routeId:z.routeId,path:z.path,matches:null,match:null,controller:null});return}let te=t.fetchers.get(T),Z=Ne(N,z.path),ee=!1;E.has(T)?ee=!1:f.includes(T)?ee=!0:te&&te.state!=="idle"&&te.data===void 0?ee=s:ee=Mt(Z,C({currentUrl:c,currentParams:t.matches[t.matches.length-1].params,nextUrl:x,nextParams:r[r.length-1].params},n,{actionResult:y,defaultShouldRevalidate:s})),ee&&l.push({key:T,routeId:z.routeId,path:z.path,matches:N,match:Z,controller:new AbortController})}),[U,l]}function Yr(e,t,r){let n=!t||r.route.id!==t.route.id,a=e[r.route.id]===void 0;return n||a}function kt(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Mt(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}async function At(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let a=r[e.id];I(a,"No route found in manifest");let d={};for(let s in n){let f=a[s]!==void 0&&s!=="hasErrorBoundary";Ae(!f,'Route "'+a.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!f&&!cr.has(s)&&(d[s]=n[s])}Object.assign(a,d),Object.assign(a,C({},t(a),{lazy:void 0}))}async function ge(e,t,r,n,a,d,s,p,f){f===void 0&&(f={});let g,h,E,v=b=>{let y,c=new Promise((x,F)=>y=F);return E=()=>y(),t.signal.addEventListener("abort",E),Promise.race([b({request:t,params:r.params,context:f.requestContext}),c])};try{let b=r.route[e];if(r.route.lazy)if(b){let y,c=await Promise.all([v(b).catch(x=>{y=x}),At(r.route,d,a)]);if(y)throw y;h=c[0]}else if(await At(r.route,d,a),b=r.route[e],b)h=await v(b);else if(e==="action"){let y=new URL(t.url),c=y.pathname+y.search;throw W(405,{method:t.method,pathname:c,routeId:r.route.id})}else return{type:B.data,data:void 0};else if(b)h=await v(b);else{let y=new URL(t.url),c=y.pathname+y.search;throw W(404,{pathname:c})}I(h!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(b){g=B.error,h=b}finally{E&&t.signal.removeEventListener("abort",E)}if(Me(h)){let b=h.status;if(Kr.has(b)){let c=h.headers.get("Location");if(I(c,"Redirects returned/thrown from loaders/actions must have a Location header"),!Bt.test(c))c=ot(new URL(t.url),n.slice(0,n.indexOf(r)+1),s,!0,c,p);else if(!f.isStaticRequest){let x=new URL(t.url),F=c.startsWith("//")?new URL(x.protocol+c):new URL(c),_=Xe(F.pathname,s)!=null;F.origin===x.origin&&_&&(c=F.pathname+F.search+F.hash)}if(f.isStaticRequest)throw h.headers.set("Location",c),h;return{type:B.redirect,status:b,location:c,revalidate:h.headers.get("X-Remix-Revalidate")!==null,reloadDocument:h.headers.get("X-Remix-Reload-Document")!==null}}if(f.isRouteRequest)throw{type:g===B.error?B.error:B.data,response:h};let y;try{let c=h.headers.get("Content-Type");c&&/\bapplication\/json\b/.test(c)?h.body==null?y=null:y=await h.json():y=await h.text()}catch(c){return{type:B.error,error:c}}return g===B.error?{type:g,error:new Ht(b,h.statusText,y),headers:h.headers}:{type:B.data,data:y,statusCode:h.status,headers:h.headers}}if(g===B.error)return{type:g,error:h};if(Gr(h)){var L,D;return{type:B.deferred,deferredData:h,statusCode:(L=h.init)==null?void 0:L.status,headers:((D=h.init)==null?void 0:D.headers)&&new Headers(h.init.headers)}}return{type:B.data,data:h}}function Ie(e,t,r,n){let a=e.createURL(Yt(t)).toString(),d={signal:r};if(n&&q(n.formMethod)){let{formMethod:s,formEncType:p}=n;d.method=s.toUpperCase(),p==="application/json"?(d.headers=new Headers({"Content-Type":p}),d.body=JSON.stringify(n.json)):p==="text/plain"?d.body=n.text:p==="application/x-www-form-urlencoded"&&n.formData?d.body=lt(n.formData):d.body=n.formData}return new Request(a,d)}function lt(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function jt(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function Vt(e,t,r,n,a){let d={},s=null,p,f=!1,g={};return r.forEach((h,E)=>{let v=t[E].route.id;if(I(!ue(h),"Cannot handle redirect results in processLoaderData"),de(h)){let L=Le(e,v),D=h.error;n&&(D=Object.values(n)[0],n=void 0),s=s||{},s[L.route.id]==null&&(s[L.route.id]=D),d[v]=void 0,f||(f=!0,p=dt(h.error)?h.error.status:500),h.headers&&(g[v]=h.headers)}else se(h)?(a.set(v,h.deferredData),d[v]=h.deferredData.data):d[v]=h.data,h.statusCode!=null&&h.statusCode!==200&&!f&&(p=h.statusCode),h.headers&&(g[v]=h.headers)}),n&&(s=n,d[Object.keys(n)[0]]=void 0),{loaderData:d,errors:s,statusCode:p||200,loaderHeaders:g}}function Tt(e,t,r,n,a,d,s,p){let{loaderData:f,errors:g}=Vt(t,r,n,a,p);for(let h=0;h<d.length;h++){let{key:E,match:v,controller:L}=d[h];I(s!==void 0&&s[h]!==void 0,"Did not find corresponding fetcher result");let D=s[h];if(!(L&&L.signal.aborted))if(de(D)){let b=Le(e.matches,v==null?void 0:v.route.id);g&&g[b.route.id]||(g=C({},g,{[b.route.id]:D.error})),e.fetchers.delete(E)}else if(ue(D))I(!1,"Unhandled fetcher revalidation redirect");else if(se(D))I(!1,"Unhandled fetcher deferred data");else{let b=le(D.data);e.fetchers.set(E,b)}}return{loaderData:f,errors:g}}function Ct(e,t,r,n){let a=C({},t);for(let d of r){let s=d.route.id;if(t.hasOwnProperty(s)?t[s]!==void 0&&(a[s]=t[s]):e[s]!==void 0&&d.route.loader&&(a[s]=e[s]),n&&n.hasOwnProperty(s))break}return a}function Le(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function Ge(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function W(e,t){let{pathname:r,routeId:n,method:a,type:d}=t===void 0?{}:t,s="Unknown Server Error",p="Unknown @remix-run/router error";return e===400?(s="Bad Request",a&&r&&n?p="You made a "+a+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":d==="defer-action"?p="defer() is not supported in actions":d==="invalid-body"&&(p="Unable to encode submission body")):e===403?(s="Forbidden",p='Route "'+n+'" does not match URL "'+r+'"'):e===404?(s="Not Found",p='No route matches URL "'+r+'"'):e===405&&(s="Method Not Allowed",a&&r&&n?p="You made a "+a.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":a&&(p='Invalid request method "'+a.toUpperCase()+'"')),new Ht(e||500,s,new Error(p),!0)}function Ft(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(ue(r))return{result:r,idx:t}}}function Yt(e){let t=typeof e=="string"?we(e):e;return be(C({},t,{hash:""}))}function Jr(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function se(e){return e.type===B.deferred}function de(e){return e.type===B.error}function ue(e){return(e&&e.type)===B.redirect}function Gr(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Me(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Xr(e){if(!Me(e))return!1;let t=e.status,r=e.headers.get("Location");return t>=300&&t<=399&&r!=null}function Qr(e){return e&&Me(e.response)&&(e.type===B.data||e.type===B.error)}function st(e){return Br.has(e.toLowerCase())}function q(e){return Hr.has(e.toLowerCase())}async function _t(e,t,r,n,a,d){for(let s=0;s<r.length;s++){let p=r[s],f=t[s];if(!f)continue;let g=e.find(E=>E.route.id===f.route.id),h=g!=null&&!kt(g,f)&&(d&&d[f.route.id])!==void 0;if(se(p)&&(a||h)){let E=n[s];I(E,"Expected an AbortSignal for revalidating fetcher deferred result"),await Jt(p,E,a).then(v=>{v&&(r[s]=v||r[s])})}}}async function Jt(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:B.data,data:e.deferredData.unwrappedData}}catch(a){return{type:B.error,error:a}}return{type:B.data,data:e.deferredData.data}}}function ut(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Ne(e,t){let r=typeof t=="string"?we(t).search:t.search;if(e[e.length-1].route.index&&ut(r||""))return e[e.length-1];let n=zt(e);return n[n.length-1]}function Ot(e){let{formMethod:t,formAction:r,formEncType:n,text:a,formData:d,json:s}=e;if(!(!t||!r||!n)){if(a!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:a};if(d!=null)return{formMethod:t,formAction:r,formEncType:n,formData:d,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:s,text:void 0}}}function it(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Zr(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function ze(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function qr(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function le(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function en(e,t){try{let r=e.sessionStorage.getItem(Wt);if(r){let n=JSON.parse(r);for(let[a,d]of Object.entries(n||{}))d&&Array.isArray(d)&&t.set(a,new Set(d||[]))}}catch{}}function tn(e,t){if(t.size>0){let r={};for(let[n,a]of t)r[n]=[...a];try{e.sessionStorage.setItem(Wt,JSON.stringify(r))}catch(n){Ae(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}export{Et as A,Or as D,Ht as E,$r as I,kr as U,rn as a,sn as b,ln as c,I as d,He as e,be as f,dn as g,Pr as h,dt as i,nn as j,an as k,on as l,ye as m,jr as n,Tr as o,we as p,k as q,zr as r,Xe as s,pr as t};
